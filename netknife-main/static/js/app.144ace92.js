(function(){"use strict";var e={1673:function(e,t,a){var o=a(6369),i=function(){var e=this,t=e._self._c;return t("Meun")},s=[],l=function(){var e=this,t=e._self._c;return t("el-container",[t("el-header",{attrs:{height:"45px"}},[t("el-menu",{staticClass:"el-menu-demo",style:{width:e.screen_width,"margin-left":"-20px"},attrs:{"default-active":e.activeIndex,mode:"horizontal"},on:{select:e.handleSelect}},[t("el-menu-item",{attrs:{index:"first"}},[e._v("CONNECT")]),t("el-menu-item",{attrs:{index:"second"}},[e._v("CONSOL")])],1)],1),t("el-main",[t("router-view")],1)],1)},n=[],r=(a(7658),{name:"Meun",data(){return{activeIndex:"first",click_able:!1}},methods:{tocrud(){this.$router.push({name:"create"})},handleSelect(e){if("first"===e||"first"===this.activeIndex&&!1===this.click_able){if(!0===this.click_able)return;this.click_able=!0,this.$router.push({name:"info"})}"second"===e&&(this.click_able=!1,this.$router.push({name:"cli"}))}},computed:{screen_width(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;return e+"px"}},mounted(){this.handleSelect()}}),_=r,c=a(1001),p=(0,c.Z)(_,l,n,!1,null,null,null),d=p.exports,u={name:"App",components:{Meun:d}},m=u,h=(0,c.Z)(m,i,s,!1,null,"86092e0c",null),f=h.exports,v=a(8499),b=a.n(v),x=a(4161);function E(){const e={};return function(t,a,o,i){const s=x.Z.create({baseURL:"http://127.0.0.1:3000"}),l=JSON.stringify({url:t,data:a});e[l]&&e[l](),s.post(t,a,{cancelToken:new x.Z.CancelToken((t=>{e[l]=t}))}).then((t=>{"function"===typeof o&&o(t),delete e[l]})).catch((t=>{"function"===typeof i&&i(t),delete e[l]}))}}const g=E();function T(){const e={};return function(t,a,o){const i=x.Z.create({baseURL:"http://127.0.0.1:3000"}),s=t;e[s]&&e[s](),i.get(t,{cancelToken:new x.Z.CancelToken((t=>{e[s]=t}))}).then((t=>{"function"===typeof a&&a(t),delete e[s]})).catch((t=>{"function"===typeof o&&o(t),delete e[s]}))}}const O=T();function S(e,t,a){e.pop_info.able=!0,e.pop_info.title=t,e.pop_info.type=a,null==e.time_id&&(e.time_id=setTimeout((()=>{e.pop_info.able=!1,e.time_id=null}),3e3))}function C(){const e={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,timeZone:"Asia/Shanghai"},t=new Date,a=new Intl.DateTimeFormat("zh-CN",e),o=a.format(t);return o}const y={namespaced:!0,actions:{},mutations:{GET_PROJECT_UNIT_LIST(e){g("/get_project_unit_data",{},(t=>{e.project_unit_list=t.data,e.select_project_unit_list=e.project_unit_list,g("/get_all_project_data",{},(t=>{e.all_project_list=t.data}))}))},CHOOSE_CHANGE(e,t){e.project_unit_list.forEach((a=>{a[0]!==t||(e.select_project_unit_list=[a])}))},ROLLBACK_SELECT_PROJECT_UNIT_LIST(e){e.select_project_unit_list=e.project_unit_list},SET_PROJECT_VIEW_ABLE(e,t){e.project_view_able=t}},state:{project_unit_list:[],all_project_list:[],select_project_unit_list:[],project_view_able:!0}},I={namespaced:!0,actions:{commit(e){""!=e.state.device_info.device_class?""!=e.state.device_info.username?""!=e.state.device_info.password?e.commit("COMMIT"):e.commit("PASSWORD_POP_INFO"):e.commit("USERNAME_POP_INFO"):e.commit("DEVICE_CLASS_POP_INFO")},checkip(e){"icmp"==e.state.device_info.check_protocol?e.commit("CHECKIP_ICMP"):e.commit("CHECKIP_TCP")}},mutations:{ADD_FILE_PATH_PARAMETER(e){console.log("FILEPATH被触发"),g("/get_filepath_parameter",{project:e.device_info.project,mode:"project"},(t=>{console.log(t),"None"===t.data?(g("/add_filepath_parameter",{project:e.device_info.project,area:"None",txt_export_path:"default",ftp_root_path:"default",ftp_upload_path:"default",ftp_download_path:"default"},(e=>{}),(e=>{})),g("/add_filepath_parameter",{project:e.device_info.project,area:e.device_info.area,txt_export_path:"default",ftp_root_path:"default",ftp_upload_path:"default",ftp_download_path:"default"},(e=>{}),(e=>{}))):g("/add_filepath_parameter",{project:e.device_info.project,area:e.device_info.area,txt_export_path:"default",ftp_root_path:"default",ftp_upload_path:"default",ftp_download_path:"default"},(e=>{}),(e=>{}))}),(e=>{console.log(e)}))},ADD_SEND_COMMAND_PARAMETER(e){console.log("SENDCOMMAND被触发"),g("/get_sendcommand_parameter",{project:e.device_info.project,mode:"project"},(t=>{console.log(t),"None"===t.data?(g("/add_sendcommand_parameter",{project:e.device_info.project,area:"None",device_title_able:"False",command_able:"False",read_timeout:10,COMMAND_HISTORY_LIMIT:500},(e=>{}),(e=>{})),g("/add_sendcommand_parameter",{project:e.device_info.project,area:e.device_info.area,device_title_able:"False",command_able:"False",read_timeout:10,COMMAND_HISTORY_LIMIT:500},(e=>{}),(e=>{}))):g("/add_sendcommand_parameter",{project:e.device_info.project,area:e.device_info.area,device_title_able:"False",command_able:"False",read_timeout:10,COMMAND_HISTORY_LIMIT:500},(e=>{}),(e=>{}))}))},COMMIT(e){e.device_info.project&&e.device_info.area&&e.device_info.protocol&&e.device_info.port&&e.device_info.ip_expression?e.ip_expression_flag?e.port_flag?g("/check_quads",{project:e.device_info.project,area:e.device_info.area,ip_expression:e.device_info.ip_expression,protocol:e.device_info.protocol,port:e.device_info.port},(t=>{"USED"!=t.data?g("/commit",{project:e.device_info.project,class:e.device_info.device_class,area:e.device_info.area,protocol:e.device_info.protocol,port:e.device_info.port,username:e.device_info.username,password:e.device_info.password,secret:e.device_info.secret,ip_expression:e.device_info.ip_expression},(t=>{"ADD_SUCCESS"===t.data?(S(e,"设备信息提交成功","success"),y.mutations.GET_PROJECT_UNIT_LIST(y.state),this.commit("deviceaddAbout/ADD_FILE_PATH_PARAMETER"),this.commit("deviceaddAbout/ADD_SEND_COMMAND_PARAMETER")):S(e,"设备信息提交失败","warning")}),(t=>{S(e,"请不要重复提交设备信息","warning")})):S(e,"最小数据单元被使用","info")}),(t=>{S(e,"最小单元检测失败","error")})):S(e,"端端口范围应在:0~65535之内","error"):S(e,"IP表达式格式错误","error"):S(e,"数据最小单元不能为空 ， 数据最小单元为 项目 ； 区域 ； 协议 ；端口 ； 地址","warning")},CHECKIP_ICMP(e){g("/checkip_icmp",{ip_expression:e.device_info.ip_expression},(t=>{if(t.data.length>0){let a="";t.data.forEach((e=>{a+=e+" ； "})),a.length>=100&&(a=a.slice(0,97)+"..."),a="ICMP检测失败:"+a,S(e,a,"warning")}else S(e,"ICMP检测成功！！！","success")}),(t=>{S(e,"请不要重复发送ICMP检测","warning")}))},CHECKIP_TCP(e){g("/checkip_tcp",{ip_expression:e.device_info.ip_expression,port:e.device_info.port},(t=>{if(t.data.length>0){let a="";t.data.forEach((e=>{a+=e["ip"]+":"+e["port"]+" ； "})),a.length>=100&&(a=a.slice(0,97)+"..."),a="TCP检测失败:"+a,S(e,a,"warning")}else S(e,"TCP检测成功!!!","success")}),(t=>{S(e,"请不要重复发送TCP检测","warning")}))},PROJECT_POP_INFO(e){if(""==e.device_info.project)S(e,"项目名称不能为空","error");else{if(!(e.device_info.project&&e.device_info.area&&e.device_info.protocol&&e.device_info.port&&e.device_info.ip_expression))return;g("/check_quads",{project:e.device_info.project,area:e.device_info.area,ip_expression:e.device_info.ip_expression,protocol:e.device_info.protocol,port:e.device_info.port},(t=>{"NOT_USED"===t.data?S(e,"最小单元未被使用","success"):S(e,"最小单元被使用","info")}),(t=>{S(e,"最小单元检测失败","error")}))}},DEVICE_CLASS_POP_INFO(e){S(e,"设备类型不能为空","error")},AREA_POP_INFO(e){if(""==e.device_info.area)S(e,"设备层级不能为空","error");else{if(!(e.device_info.project&&e.device_info.area&&e.device_info.protocol&&e.device_info.port&&e.device_info.ip_expression))return;g("/check_quads",{project:e.device_info.project,area:e.device_info.area,ip_expression:e.device_info.ip_expression,protocol:e.device_info.protocol,port:e.device_info.port},(t=>{"NOT_USED"===t.data?S(e,"最小单元未被使用","success"):S(e,"最小单元被使用","info")}),(t=>{S(e,"最小单元检测失败","error")}))}},PROTOCOL_POP_INFO(e){if(""==e.device_info.protocol)e.check_quads_flag=!1,S(e,"设备协议不能为空","error");else{if(!(e.device_info.project&&e.device_info.area&&e.device_info.protocol&&e.device_info.port&&e.device_info.ip_expression))return;g("/check_quads",{project:e.device_info.project,area:e.device_info.area,ip_expression:e.device_info.ip_expression,protocol:e.device_info.protocol,port:e.device_info.port},(t=>{console.log(t.data),"NOT_USED"===t.data?S(e,"最小单元未被使用","success"):S(e,"最小单元被使用","info")}),(t=>{S(e,"最小单元检测失败","error")}))}},PORT_POP_INFO(e){if(""==e.device_info.port)S(e,"设备端口不能为空","error");else{let t=/^\d+$/.test(e.device_info.port);if(t&&parseInt(e.device_info.port)>=0&&parseInt(e.device_info.port)<=65535){if(e.port_flag=!0,!(e.device_info.project&&e.device_info.area&&e.device_info.protocol&&e.device_info.port&&e.device_info.ip_expression))return;g("/check_quads",{project:e.device_info.project,area:e.device_info.area,ip_expression:e.device_info.ip_expression,protocol:e.device_info.protocol,port:e.device_info.port},(t=>{"NOT_USED"===t.data?S(e,"最小单元未被使用","success"):S(e,"最小单元被使用","info")}),(t=>{S(e,"最小单元检测失败","error")}))}else e.port_flag=!1,S(e,"端口范围应在:0~65535之内","error")}},IP_EXPRESSION_POP_INFO(e){if(""==e.device_info.ip_expression)S(e,"设备IP表达式不能为空","error");else{let t=/^((2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d)\.(2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d)\.(2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d)\.(2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d),)*(2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d)(-(2[0-4][0-9]|[1-2][0-5][0-5]|[1-9]?\d))?(%(2[0-4][0-9]|[1-2][0-5][0-5]|[1-9]?\d))?\.(2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d)(-(2[0-4][0-9]|[1-2][0-5][0-5]|[1-9]?\d))?(%(2[0-4][0-9]|[1-2][0-5][0-5]|[1-9]?\d))?\.(2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d)(-(2[0-4][0-9]|[1-2][0-5][0-5]|[1-9]?\d))?(%(2[0-4][0-9]|[1-2][0-5][0-5]|[1-9]?\d))?\.(2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d)(-(2[0-4][0-9]|[1-2][0-5][0-5]|[1-9]?\d))?(%(2[0-4][0-9]|[1-2][0-5][0-5]|[1-9]?\d))?(,(2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d)\.(2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d)\.(2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d)\.(2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d))*$/.test(e.device_info.ip_expression);if(t){if(e.ip_expression_flag=!0,!(e.device_info.project&&e.device_info.area&&e.device_info.protocol&&e.device_info.port&&e.device_info.ip_expression))return;g("/check_quads",{project:e.device_info.project,area:e.device_info.area,ip_expression:e.device_info.ip_expression,protocol:e.device_info.protocol,port:e.device_info.port},(t=>{"NOT_USED"===t.data?S(e,"最小单元未被使用","success"):S(e,"最小单元被使用","info")}),(t=>{S(e,"最小单元检测失败","error")}))}else e.ip_expression_flag=!1,S(e,"IP表达式错误","error")}},USERNAME_POP_INFO(e){S(e,"设备用户名不能为空","error")},PASSWORD_POP_INFO(e){S(e,"设备密码不能为空","error")}},state:{device_info:{project:"默认项目",device_class:"huawei",area:"默认区域",protocol:"telnet",port:"23",username:"",password:"",ip_expression:"",secret:"",check_protocol:"icmp"},pop_info:{able:!1,title:"",type:""},port_flag:!0,ip_expression_flag:!0}},w={namespaced:!0,actions:{update(e){g("/check_where",{project:e.state.where_info.project,class:e.state.where_info.device_class,area:e.state.where_info.area,protocol:e.state.where_info.protocol,port:e.state.where_info.port,username:e.state.where_info.username,password:e.state.where_info.password,secret:e.state.where_info.secret,ip_expression:e.state.where_info.ip_expression},(t=>{console.log(t),"EXIST"===t.data?e.commit("UPDATE"):S(e.state,"数据不存在","warning")}),(t=>{S(e.state,"请不要重复发送更新请求","warning")}))}},mutations:{UPDATE(e){e.ip_expression_flag||!e.update_info.ip_expression?e.port_flag||!e.update_info.port?(O("/get_project_area_data",(t=>{e.update_before_project_area_list=t.data})),O("/get_id_mixunit_data",(t=>{e.update_before_id_mixunit_list=t.data})),g("/update_data",{project:e.update_info.project,class:e.update_info.device_class,area:e.update_info.area,protocol:e.update_info.protocol,port:e.update_info.port,username:e.update_info.username,password:e.update_info.password,secret:e.update_info.secret,ip_expression:e.update_info.ip_expression},(t=>{"UPDATE_SUCCESS"===t.data?(S(e,"数据更新成功","success"),y.mutations.GET_PROJECT_UNIT_LIST(y.state),O("/get_project_area_data",(t=>{e.update_after_project_area_list=t.data,g("/update_parameter_database",{before:e.update_before_project_area_list,after:e.update_after_project_area_list})})),O("/get_id_mixunit_data",(t=>{e.update_after_id_mixunit_list=t.data,g("/update_command_history_database",{before:e.update_before_id_mixunit_list,after:e.update_after_id_mixunit_list})}))):S(e,"更新后最小数据单元存在重复","error")}),(t=>{S(e,"请不要重复发送更新请求","warning")}))):S(e,"端口范围应在:0~65535之内","warning"):S(e,"IP表达式错误","warning")},IP_EXPRESSION_POP_INFO(e){let t=/^((2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d)\.(2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d)\.(2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d)\.(2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d),)*(2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d)(-(2[0-4][0-9]|[1-2][0-5][0-5]|[1-9]?\d))?(%(2[0-4][0-9]|[1-2][0-5][0-5]|[1-9]?\d))?\.(2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d)(-(2[0-4][0-9]|[1-2][0-5][0-5]|[1-9]?\d))?(%(2[0-4][0-9]|[1-2][0-5][0-5]|[1-9]?\d))?\.(2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d)(-(2[0-4][0-9]|[1-2][0-5][0-5]|[1-9]?\d))?(%(2[0-4][0-9]|[1-2][0-5][0-5]|[1-9]?\d))?\.(2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d)(-(2[0-4][0-9]|[1-2][0-5][0-5]|[1-9]?\d))?(%(2[0-4][0-9]|[1-2][0-5][0-5]|[1-9]?\d))?(,(2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d)\.(2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d)\.(2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d)\.(2[0-4][0-9]|2[0-5][0-5]|1[0-9][0-9]|[1-9]?\d))*$/.test(e.update_info.ip_expression);t?(e.ip_expression_flag=!0,S(e,"IP表达式正确","success")):(e.ip_expression_flag=!1,S(e,"IP表达式错误","error"))},PORT_POP_INFO(e){let t=/^\d+$/.test(e.update_info.port);t&&parseInt(e.update_info.port)>=0&&parseInt(e.update_info.port)<=65535?(e.port_flag=!0,S(e,"端口范围正确！！！","success")):(e.port_flag=!1,S(e,"端口范围应在:0~65535之内","warning"))}},state:{where_info:{project:"",device_class:"",area:"",protocol:"",port:"",username:"",password:"",ip_expression:"",secret:""},update_info:{project:"",device_class:"",area:"",protocol:"",port:"",username:"",password:"",ip_expression:"",secret:""},pop_info:{able:!1,title:"",type:""},ip_expression_flag:!1,port_flag:!1,update_before_project_area_list:[],update_after_project_area_list:[],update_item_list:[],diff_item_list:[],update_before_id_mixunit_list:[],update_after_id_mixunit_list:[]}},A={namespaced:!0,actions:{remove(e){g("/check_where",{project:e.state.delete_info.project,class:e.state.delete_info.device_class,area:e.state.delete_info.area,protocol:e.state.delete_info.protocol,port:e.state.delete_info.port,username:e.state.delete_info.username,password:e.state.delete_info.password,ip_expression:e.state.delete_info.ip_expression,secret:e.state.delete_info.secret,check_protocol:e.state.delete_info.check_protocol},(t=>{"EXIST"==t.data?e.commit("DELETE"):S(e.state,"数据不存在","warning")}),(t=>{S(e.state,"请勿重复发送请求","warning")}))}},mutations:{DELETE(e){O("/get_project_area",(t=>{e.delete_before_proeject_area_list=t.data}),(e=>{})),g("/get_delete_project_list",{project:e.delete_info.project,area:e.delete_info.area,protocol:e.delete_info.protocol,port:e.delete_info.port,ip_expression:e.delete_info.ip_expression},(t=>{e.delte_project_list=t.data})),g("/delete_data",{project:e.delete_info.project,device_class:e.delete_info.device_class,area:e.delete_info.area,protocol:e.delete_info.protocol,port:e.delete_info.port,username:e.delete_info.username,password:e.delete_info.password,ip_expression:e.delete_info.ip_expression,secret:e.delete_info.secret,check_protocol:e.delete_info.check_protocol},(t=>{"DELETE_SUCCESS"==t.data?(S(e,"数据删除成功","success"),y.mutations.GET_PROJECT_UNIT_LIST(y.state),g("/delete_history_command",{mode:"mixunit",project:e.delete_info.project,area:e.delete_info.area,protocol:e.delete_info.protocol,port:e.delete_info.port,ip_expression:e.delete_info.ip_expression},(t=>{console.log(e.delte_project_list),e.delte_project_list.forEach((t=>{g("/get_logininfo_project_count",{project:t[0]},(t=>{console.log(t.data),"DELETE_NEXT"===t.data&&g("/delete_history_command",{mode:"project",project:e.delete_info.project})}))}))})),O("/get_project_area",(t=>{e.delete_after_project_area_list=t.data,g("/delete_parameter_database",{before:e.delete_before_proeject_area_list,after:e.delete_after_project_area_list})}))):S(e,"数据删除失败","warning")}),(t=>{S(e,"请勿重复发送删除请求","warning")}))}},state:{delete_info:{project:"",device_class:"",area:"",protocol:"",port:"",username:"",password:"",ip_expression:"",secret:""},pop_info:{able:!1,title:"",type:""},delete_before_proeject_area_list:[],delete_after_project_area_list:[],diff_list:[],delte_project_list:[]}},$={namespaced:!0,actions:{},mutations:{SET_GO_BACK_STATE(e){e.textarea="",e.response_data_list=[],e.effect_connect_percent=0,e.loading_able=!1},COMMIT_COMMAND(e,t){e.loading_able=!0,e.response_data_list=[],e.textarea="",e.command_index=-1,g("/commit_command",{base_effect_range:e.choose_project[0],mixunit:e.choose_mixunit,mode:e.oprate_mode,command:t.command,send_parameter:{strip_prompt:t.send_parameter.device_title_able,strip_command:t.send_parameter.command_able,read_timeout:t.send_parameter.read_timeout},path_parameter:{txt_export_path:t.path_parameter.txt_export_path,ftp_root_path:t.path_parameter.ftp_root_path,ftp_upload_path:t.path_parameter.ftp_upload_path,ftp_download_path:t.path_parameter.ftp_download_path}},(a=>{e.loading_able=!1,e.response_data_list=[],e.response_data_list=a.data,e.response_date_time=C(),console.log("发送add_command_history"),g("/add_command_history",{project:e.choose_project[0],area:t.choose_mixunit[3],protocol:t.choose_mixunit[4],port:t.choose_mixunit[5],ip_expression:t.choose_mixunit[9],mode:e.oprate_mode,command:t.command,response:e.response_data_list,date_time:e.response_date_time},(a=>{"LIMIT"===a.data&&e.vm.$message({showClose:!0,message:"记录的命令已经达到上限,将删除最早的一条命令后继续记录",type:"warning"}),g("/get_command_history_count",{project:e.choose_project[0],area:t.choose_mixunit[3],protocol:t.choose_mixunit[4],port:t.choose_mixunit[5],ip_expression:t.choose_mixunit[9],mode:e.oprate_mode},(t=>{e.history_command_count=t.data}))}),(e=>{console.log(e)})),console.log("已经发送")}),(t=>{e=!1}))},SET_CHOOSE_PROJECT(e,t){e.choose_project=t},SET_CHOOSE_MIXUNIT(e,t){e.choose_mixunit=t},SET_EFFECT(e,t){console.log(e.oprate_mode),void 0!==this.time&&clearTimeout(this.time),this.time=setTimeout((()=>{g("/get_effect_data",{base_effect_range:e.choose_project[0],extra_effect_range:e.choose_mixunit,command:t,mode:e.oprate_mode},(t=>{e.effect_connect_percent=t.data["effect_connect_percent"]}),(e=>{}))}),100)},SET_TEXT_AREA(e,t){e.textarea="";let a=!0;e.response_data_list.forEach((o=>{t.forEach((t=>{o.type+o.ip+":"+o.port===t&&(a?(e.textarea+=`===============================================================================\n设备类型:${o.type}  设备登录IP:${o.ip}  设备登录端口:${o.port}\n时间:${e.response_date_time}\n===============================================================================\n`+o.response,a=!1):e.textarea+=`\n===============================================================================\n设备类型:${o.type}  设备登录IP:${o.ip}  设备登录端口:${o.port}\n时间:${e.response_date_time}\n===============================================================================\n`+o.response)}))}))},SET_OPRATE_MODE(e,t){e.oprate_mode=t},ROLLBACK_COMMAND(e){e.command_index+=1,e.response_data_list=[],e.textarea="",e.history_command="",g("/get_command_history",{mode:e.oprate_mode,project:e.choose_project[0],area:e.choose_mixunit[3],protocol:e.choose_mixunit[4],port:e.choose_mixunit[5],ip_expression:e.choose_mixunit[9],index:e.command_index},(t=>{e.loading_able=!1,e.response_data_list=t.data["response"],e.response_date_time=t.data["date_time"],e.history_command=t.data["command"]}))},NEXT_COMMAND(e){e.command_index-=1,e.response_data_list=[],e.textarea="",e.history_command="",g("/get_command_history",{mode:e.oprate_mode,project:e.choose_project[0],area:e.choose_mixunit[3],protocol:e.choose_mixunit[4],port:e.choose_mixunit[5],ip_expression:e.choose_mixunit[9],index:e.command_index},(t=>{e.loading_able=!1,e.response_data_list=t.data["response"],e.response_date_time=t.data["date_time"],e.history_command=t.data["command"]}))},SET_COMMAND_INDEX(e,t){e.command_index=t},SET_HISTORY_COMMAND_COUNT(e){g("/get_command_history_count",{project:e.choose_project[0],area:e.choose_mixunit[3],protocol:e.choose_mixunit[4],port:e.choose_mixunit[5],ip_expression:e.choose_mixunit[9],mode:e.oprate_mode},(t=>{console.log(t.data),e.history_command_count=t.data}))},EXPORT_TEXTAREA(e,t){t.command.length<=0?t.vm.$message({showClose:!0,message:"导出失败。",type:"error"}):g("/export_textarea",{textarea:e.textarea,command:t.command,txt_export_path:t.txt_export_path},(e=>{"EXPORT_SUCCESS"===e.data?t.vm.$message({showClose:!0,message:"导出成功",type:"success"}):t.vm.$message({showClose:!0,message:"导出失败",type:"error"})}))},GET_ALL_COMMAND_TIME(e){e.all_command_time_list=[],e.all_command_time_search_list=[],g("/get_all_command_time",{project:e.choose_project[0],area:e.choose_mixunit[3],protocol:e.choose_mixunit[4],port:e.choose_mixunit[5],ip_expression:e.choose_mixunit[9],mode:e.oprate_mode},(t=>{console.log(t.data),t.data.forEach((t=>{e.all_command_time_search_list.push({value:`${t.value[0]} | ${t.value[1]}`}),e.all_command_time_list.push([t.value[0],t.value[1],t.value[2]])})),e.full_all_command_time_list=e.all_command_time_list}))},CHOOSE_CHANGE(e,t){g("/get_all_command_time",{project:e.choose_project[0],area:e.choose_mixunit[3],protocol:e.choose_mixunit[4],port:e.choose_mixunit[5],ip_expression:e.choose_mixunit[9],mode:e.oprate_mode,search:t.value},(t=>{e.all_command_time_list=[],t.data.forEach((t=>{e.all_command_time_list.push([t.value[0],t.value[1],t.value[2]])}))}))},ROLLBACK_MIXUNIT_LIST(e){e.all_command_time_list=e.full_all_command_time_list},SHOW_HISTORY_COMMAND(e,t){e.response_data_list=[],e.textarea="",e.history_command="",e.command_index=t.index,g("/get_command_history",{mode:e.oprate_mode,project:e.choose_project[0],area:e.choose_mixunit[3],protocol:e.choose_mixunit[4],port:e.choose_mixunit[5],ip_expression:e.choose_mixunit[9],command:t.command,date_time:t.date_time},(t=>{e.loading_able=!1,e.response_data_list=t.data["response"],e.response_date_time=t.data["date_time"],e.history_command=t.data["command"]}))},DELETE_HISTORY_COMMAND(e,t){e.response_data_list=[],e.textarea="",e.history_command="",e.command_index=-1,g("/delete_history_command",{mode:e.oprate_mode,id:t.id,project:e.choose_project[0],area:e.choose_mixunit[3],protocol:e.choose_mixunit[4],port:e.choose_mixunit[5],ip_expression:e.choose_mixunit[9],command:t.command,date_time:t.date_time},(t=>{"DELETE_SUCCESS"===t.data&&(e.all_command_time_list=[],e.all_command_time_search_list=[],g("/get_all_command_time",{project:e.choose_project[0],area:e.choose_mixunit[3],protocol:e.choose_mixunit[4],port:e.choose_mixunit[5],ip_expression:e.choose_mixunit[9],mode:e.oprate_mode},(t=>{t.data.forEach((t=>{e.all_command_time_search_list.push({value:`${t.value[0]} | ${t.value[1]}`}),e.all_command_time_list.push([t.value[0],t.value[1],t.value[2]])})),e.full_all_command_time_list=e.all_command_time_list})),g("/get_command_history_count",{project:e.choose_project[0],area:e.choose_mixunit[3],protocol:e.choose_mixunit[4],port:e.choose_mixunit[5],ip_expression:e.choose_mixunit[9],mode:e.oprate_mode},(t=>{e.history_command_count=t.data})))}))},SET_VM(e,t){e.vm=t}},state:{textarea:"",choose_project:[],choose_mixunit:[],effect_connect_percent:0,response_data_list:[],response_date_time:"",loading_able:!1,oprate_mode:"project",command_index:-1,history_command:"",history_command_count:0,all_command_time_list:[],all_command_time_search_list:[],full_all_command_time_list:[],vm:{}}},N={namespaced:!0,actions:{},mutations:{GET_MIXUNIT_DATA(e,t){g("/get_mixunit_data",{project:t.project},(t=>{e.mixunit_list=t.data,e.full_mixunit_list=t.data}))},GET_SEARCH_DATA(e,t){g("/get_search_data",{project:t},(t=>{e.mixunit_search_list=t.data}))},SET_MIXUNIT_VIEW_ABLE(e,t){e.mixunit_view_able=t},CHOOSE_CHANGE(e,t){g("/get_mixunit_data",{project:t.project,search:t.search},(t=>{e.mixunit_list=t.data}))},ROLLBACK_MIXUNIT_LIST(e){e.mixunit_list=e.full_mixunit_list},SET_MIXUNIT_LIST(e,t){e.mixunit_list=t}},state:{project:"",full_mixunit_list:[],mixunit_list:[],mixunit_view_able:!0,mixunit_search_list:[]}},j={namespaced:!0,actions:{},mutations:{SET_TITLE(e,t){e.title=t},HANDLER_RESPONSE_DATA(e,t){e.excute_response_data=[];for(let a=0;a<t.length;a++)console.log(t[a]),e.excute_response_data.push(t[a]);console.log(e.excute_response_data)},SET_EXCUTE_TEXT(e,t){e.excute_text="";let a=!0;e.excute_response_data.forEach((o=>{t.forEach((t=>{`${o.fun_name}${o.ip}${o.port}${o.type}`===t&&(a?(e.excute_text+="===============================================================================\n",a=!1):e.excute_text+="\n===============================================================================\n",e.excute_text+=`设备类型:${o.type}  设备登录IP:${o.ip}  设备登录端口:${o.port}\n`,e.excute_text+=`时间:${e.response_date_time} 函数名:${o.fun_name}`,e.excute_text+="\n===============================================================================\n",e.excute_text+=o.response)}))}))},SET_RESPONSE_DATE_TIME(e,t){e.response_date_time=t},SET_EXCUTE_RESPONSE_DATA(e,t){e.excute_response_data=t}},state:{title:"",excute_response_data:[],excute_text:"",response_date_time:""}},k={namespaced:!0,actions:{save_netknife_file(e,t){e.state.code=t,g("/check_netknife_file_if_exist",{code:e.state.code},(t=>{"SYNTAX_ERROR"===t.data&&(e.state.vm.$message({showClose:!0,message:"语法错误",type:"warning"}),console.log("语法错误")),"NOT_EXIST"===t.data&&(console.log("不存在"),e.commit("CREATE_NETKNIFE_FILE")),"EXIST"===t.data&&(console.log("存在"),e.commit("UPDATE_NETKNIFE_FILE"))}))},delete_netknife_file(e,t){e.state.code=t["code"],g("/check_netknife_file_if_exist",{code:e.state.code},(a=>{"SYNTAX_ERROR"===a.data&&e.state.vm.$message({showClose:!0,message:"语法错误",type:"warning"}),"NOT_EXIST"===a.data&&e.state.vm.$message({showClose:!0,message:"文件不存在",type:"warning"}),"EXIST"===a.data&&e.commit("DELETE_NETKNIFE_FILE",t["name"])}))}},mutations:{CREATE_NETKNIFE_FILE(e){g("/create_netknife_file",{code:e.code},(t=>{console.log(t.data),"SYNTAX_ERROR"!==t.data?"ADD_FAULT"!==t.data?(e.file_name=t.data,e.vm.$bus.$emit("change_title",e.file_name+""),e.vm.$bus.$emit("change_code",e.vm.name,e.code),e.vm.excute_flag?(e.vm.excute_flag=!1,e.vm.save_bt_style="primary",g("/get_netknife_code",{file_name:e.vm.title},(t=>{e.vm.storage_code=t.data})),e.vm.$bus.$emit("excute",e.file_name)):(e.vm.save_bt_style="primary",g("/get_netknife_code",{file_name:e.vm.title},(t=>{e.vm.storage_code=t.data})),e.vm.$message({showClose:!0,message:"创建成功",type:"success"}))):e.vm.$message({showClose:!0,message:"创建失败",type:"error"}):e.vm.$message({showClose:!0,message:"语法错误",type:"warning"})}))},DELETE_NETKNIFE_FILE(e,t){g("/delete_netknife_file",{code:e.code},(a=>{"DELETE_FAULT"===a.data&&e.vm.$message({showClose:!0,message:"删除失败",type:"warning"}),"DELETE_SUCCESS"===a.data&&(e.vm.$message({showClose:!0,message:"删除成功",type:"success"}),e.vm.$bus.$emit("change_title","空窗口"),e.vm.$bus.$emit("change_code",t,"name:\npriority:\n\nconfig:{\n\n  send:{\n  read_timeout:10.0\n   }\n\n}\n\ntranslation:{\n\n\n}\n\njinja2:{\n\n\n}\n\nexcute:{\n\n}\n\n"),e.vm.storage_code="NOT_EXIST")}))},UPDATE_NETKNIFE_FILE(e){g("/change_netknife_file",{code:e.code},(t=>{"SYNTAX_ERROR"!==t.data?"CHANGE_FAULT"!==t.data?(e.file_name=t.data,e.vm.$bus.$emit("change_title",e.file_name+""),e.vm.$bus.$emit("change_code",e.vm.name,e.code),console.log(e.vm.excute_flag),e.vm.excute_flag?(e.vm.excute_flag=!1,e.vm.save_bt_style="primary",g("/get_netknife_code",{file_name:e.vm.title},(t=>{e.vm.storage_code=t.data})),e.vm.$bus.$emit("excute",e.file_name)):(e.vm.save_bt_style="primary",g("/get_netknife_code",{file_name:e.vm.title},(t=>{e.vm.storage_code=t.data})),e.vm.$message({showClose:!0,message:"更新成功",type:"success"}))):e.vm.$message({showClose:!0,message:"更新失败",type:"warning"}):e.vm.$message({showClose:!0,message:"语法错误",type:"warning"})}))},SET_VM(e,t){e.vm=t,console.log(t.title)}},state:{code:"",vm:"",file_name:""}},P={namespaced:!0,actions:{},mutations:{GET_NETKNIFE_DATA(e){O("/get_netknife_file_data",(t=>{"NOT_EXIST"!==t.data&&(e.netknife_data=t.data,e.full_netknife_data=t.data,e.netknife_data.forEach((e=>{e["translation"].length<=0?e["translation_class"]="el-icon-circle-close":e["translation_class"]="el-icon-success",e["jinja2"].length<=0?e["jinja2_class"]="el-icon-circle-close":e["jinja2_class"]="el-icon-success",e["excute"].length<=0?e["excute_class"]="el-icon-circle-close":e["excute_class"]="el-icon-success",e["config"].length<=0?e["config_class"]="el-icon-circle-close":e["config_class"]="el-icon-success"})))}))},CHOOSE_CHANGE(e,t){e.netknife_data=[];for(let a=0;a<e.full_netknife_data.length;a++)e.full_netknife_data[a]["netknife"][0]===t&&e.netknife_data.push(e.full_netknife_data[a])},ROLLBACK_NETKNIFE_DATA(e){e.netknife_data=e.full_netknife_data}},state:{netknife_data:[],full_netknife_data:[]}};var M=a(3822);o["default"].use(M.ZP);var R=new M.ZP.Store({modules:{deviceaddAbout:I,deviceupdateAbout:w,devicedeleteAbout:A,devicestateAbout:y,projectoprateAbout:$,mixunitpageAbout:N,filemanageAbout:j,filecreateAbout:k,filestateAbout:P}}),L=a(2631),D=function(){var e=this,t=e._self._c;return t("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:20,placeholder:"请输入内容",resize:"none"},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}})},F=[],X={name:"DeviceOprate",data(){return{textarea:""}},methods:{},components:{},computed:{},watch:{textarea(e,t){">>>"+t}}},H=X,U=(0,c.Z)(H,D,F,!1,null,null,null),J=U.exports,B=function(){var e=this,t=e._self._c;return t("el-container",[t("el-menu",{staticClass:"el-menu-vertical-demo",style:{"margin-left":"-18px",width:"109px",display:"flex","min-height":"100vh","flex-direction":"column","margin-left":"-20px","margin-top":"-5px"},attrs:{"default-active":e.activeIndex},on:{select:e.handleSelect}},[t("el-menu-item",{attrs:{index:"first"}},[e._v("设备状态")]),t("el-menu-item",{attrs:{index:"second"}},[e._v("管理设备")]),t("el-menu-item",{attrs:{index:"three"}},[e._v("文件状态")]),t("el-menu-item",{attrs:{index:"four"}},[e._v("管理文件")])],1),t("el-main",[t("router-view")],1)],1)},V=[],G={name:"DeviceInfo",data(){return{activeName:"first",activeIndex:"first",if_first_load:!1}},methods:{...(0,M.OI)("devicestateAbout",{SET_PROJECT_VIEW_ABLE:"SET_PROJECT_VIEW_ABLE"}),...(0,M.OI)("projectoprateAbout",{SET_OPRATE_MODE:"SET_OPRATE_MODE"}),handleSelect(e){this.activeIndex=void 0===e?"first":e,"second"===e?(this.$bus.$emit("init_active_name"),this.$router.push({name:"create"})):"three"===e?O("/if_exist_netknife_file",(e=>{"NOT_EXIST"===e.data?this.$router.push({name:"fileempty"}):this.$router.push({name:"filestate"})})):"four"===e?0===localStorage.length?this.$router.push({name:"pageempty"}):this.$router.push({name:"filemanage"}):O("/select_count",(t=>{t.data[0][0]<=1?this.$router.push({name:"empty",params:{infopage:this}}):("first"===e||"first"===this.activeIndex&&!this.if_first_load)&&(this.SET_OPRATE_MODE("project"),this.SET_PROJECT_VIEW_ABLE(!0),this.$router.push({name:"state"}))}))},switch_handler(e,t){"first"===e&&(this.activeIndex="first"),"second"===e&&(this.activeIndex="second",this.$router.push({name:"create"})),"three"===e&&(this.activeIndex="three",O("/if_exist_netknife_file",(e=>{"NOT_EXIST"===e.data?this.$router.push({name:"fileempty"}):this.$router.push({name:"filestate"})}))),"four"===e&&(this.activeIndex="four",0===localStorage.length?this.$router.push({name:"pageempty"}):this.$router.push({name:"filemanage"})),"open_file"===e&&(this.activeIndex="four",this.$router.push({name:"filemanage",params:{item:t}}))}},mounted(){this.handleSelect(),this.$bus.$on("switch_activeIndex",((e,t)=>{this.switch_handler(e,t)}))},beforeDestroy(){this.$bus.$off("switch_activeIndex")}},K=G,W=(0,c.Z)(K,B,V,!1,null,null,null),Z=W.exports,z=function(){var e=this,t=e._self._c;return t("el-container",{staticClass:"el_container"},[e.project_view_able?t("el-header",{staticStyle:{"margin-top":"-20px"},attrs:{height:"30px"}},[t("el-autocomplete",{staticStyle:{width:"500px","margin-left":"200px"},attrs:{"prefix-icon":"el-icon-search","fetch-suggestions":e.querySearchAsync,placeholder:"输入项目名称进行搜索"},on:{select:e.handleSelect},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1):e._e(),e.project_view_able?t("el-main",[t("ul",e._l(e.select_project_unit_list,(function(a,o){return t("li",{key:o},[t("el-card",{staticClass:"box-card head_card"},[t("div",{staticStyle:{"margin-top":"-8px"}},[t("el-tag",[e._v(" "+e._s(a[0].length>39?a[0].slice(0,30)+"...":a[0]))]),t("el-button",{staticClass:"head_button",attrs:{type:"primary"},on:{click:function(t){e.show_mix_unit_page(a[0]),e.set_choose_project(a)}}},[e._v("显示最小操作单元")]),t("el-button",{staticClass:"head_button",attrs:{type:"primary"},on:{click:function(t){e.show_oprate_page(),e.set_choose_project(a)}}},[e._v("操作")]),t("el-badge",{staticClass:"success",attrs:{value:101,max:99,type:"primary"}},[t("el-button",[e._v("挂载文件")])],1)],1)]),t("el-card",{staticClass:"box-card"},[e._v(" 区域:"+e._s(a[1].length>=150?a[1].slice(0,150)+"...":a[1])),t("br"),e._v(" 协议:"+e._s(a[2].length>=150?a[2].slice(0,150)+"...":a[2])),t("br"),e._v(" 端口:"+e._s(a[3].length>=140?a[3].slice(0,140)+"...":a[3])),t("br"),e._v(" IP表达式:"+e._s(a[4].length>=150?a[4].slice(0,150)+"...":a[4])+" ")])],1)})),0)]):e._e(),t("router-view")],1)},Y=[],q={name:"DeviceState",data(){return{input:""}},methods:{...(0,M.OI)("devicestateAbout",{GET_PROJECT_UNIT_LIST:"GET_PROJECT_UNIT_LIST",CHOOSE_CHANGE:"CHOOSE_CHANGE",ROLLBACK_SELECT_PROJECT_UNIT_LIST:"ROLLBACK_SELECT_PROJECT_UNIT_LIST",SET_PROJECT_VIEW_ABLE:"SET_PROJECT_VIEW_ABLE"}),...(0,M.OI)("projectoprateAbout",{SET_CHOOSE_PROJECT:"SET_CHOOSE_PROJECT",SET_OPRATE_MODE:"SET_OPRATE_MODE"}),...(0,M.OI)("mixunitpageAbout",{SET_MIXUNIT_VIEW_ABLE:"SET_MIXUNIT_VIEW_ABLE"}),show_mix_unit_page(e){this.SET_PROJECT_VIEW_ABLE(!1),this.SET_MIXUNIT_VIEW_ABLE(!0),this.SET_OPRATE_MODE("mixunit"),this.$router.push({name:"mixunit",params:{project:e}})},show_oprate_page(){this.SET_PROJECT_VIEW_ABLE(!1),this.$router.push({name:"projectoprate"})},set_choose_project(e){this.SET_CHOOSE_PROJECT(e)},querySearchAsync(e,t){console.log(this.all_project_list);let a=this.all_project_list;a=e?a.filter(this.createStateFilter(e)):a,t(a)},createStateFilter(e){return t=>t.value.toLowerCase().match(e.toLowerCase())},handleSelect(e){this.CHOOSE_CHANGE(e.value)}},computed:{select_project_unit_list(){return this.$store.state.devicestateAbout.select_project_unit_list},project_unit_list(){return this.$store.state.devicestateAbout.project_unit_list},all_project_list(){return this.$store.state.devicestateAbout.all_project_list},project_view_able(){return this.$store.state.devicestateAbout.project_view_able},empty_able(){return this.$store.state.devicestateAbout.empty_able}},watch:{input(e,t){""!==t&&""===e&&this.ROLLBACK_SELECT_PROJECT_UNIT_LIST()}},mounted(){this.GET_PROJECT_UNIT_LIST()}},Q=q,ee=(0,c.Z)(Q,z,Y,!1,null,"c9dc8ed8",null),te=ee.exports,ae=function(){var e=this,t=e._self._c;return t("el-container",{staticClass:"crud_div"},[t("el-main",{staticStyle:{"margin-left":"-30px","margin-top":"-40px"}},[t("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activename,callback:function(t){e.activename=t},expression:"activename"}},[t("el-tab-pane",{attrs:{label:"新建项目",name:"first"}}),t("el-tab-pane",{attrs:{label:"更新项目",name:"second"}}),t("el-tab-pane",{attrs:{label:"删除项目",name:"third"}}),t("router-view")],1)],1)],1)},oe=[],ie={name:"DeviceCrud",data(){return{activename:"first"}},methods:{handleClick(){"first"===this.activename&&this.$router.push({name:"create"}).then(),"second"===this.activename&&this.$router.push({name:"update"}),"third"===this.activename&&this.$router.push({name:"delete"})}},mounted(){this.handleClick(),this.$bus.$on("init_active_name",(()=>{this.activename="first"}))},beforeDestroy(){this.$bus.$off("init_active_name")}},se=ie,le=(0,c.Z)(se,ae,oe,!1,null,"1697e12d",null),ne=le.exports,re=function(){var e=this,t=e._self._c;return t("div",[t("el-divider",{attrs:{"content-position":"left"}},[e._v("新建数据")]),t("div",{staticClass:"popinfo"},[t("DeviceCreatePopInfo")],1),t("el-form",{ref:"device_info",attrs:{inline:!0,mode:e.device_info,"label-width":"80px","label-position":"rigth"}},[t("el-form-item",{attrs:{label:"项目名称"}},[t("el-input",{staticClass:"project_input",attrs:{placeholder:"请输入项目名称"},model:{value:e.device_info.project,callback:function(t){e.$set(e.device_info,"project",t)},expression:"device_info.project"}},[t("template",{slot:"prepend"},[e._v("项目名称")])],2)],1),t("br"),t("el-form-item",{attrs:{label:"设备信息"}},[t("el-input",{staticClass:"input-with-select input",attrs:{placeholder:"自定义设备类型"},model:{value:e.device_info.device_class,callback:function(t){e.$set(e.device_info,"device_class",t)},expression:"device_info.device_class"}},[t("el-select",{staticClass:"select",attrs:{slot:"prepend",placeholder:"类型"},slot:"prepend",model:{value:e.device_info.device_class,callback:function(t){e.$set(e.device_info,"device_class",t)},expression:"device_info.device_class"}},[t("el-option",{attrs:{label:"Huawei",value:"huawei"}}),t("el-option",{attrs:{label:"H3c",value:"h3c"}}),t("el-option",{attrs:{label:"Ruijie",value:"ruijie"}}),t("el-option",{attrs:{label:"Cisco",value:"cisco"}}),t("el-option",{attrs:{label:"Linux",value:"linux"}})],1)],1)],1),t("el-form-item",[t("el-input",{staticClass:"input-with-select input",attrs:{placeholder:"自定义设备层级"},model:{value:e.device_info.area,callback:function(t){e.$set(e.device_info,"area",t)},expression:"device_info.area"}},[t("el-select",{staticClass:"select",attrs:{slot:"prepend",placeholder:"层级"},slot:"prepend",model:{value:e.device_info.area,callback:function(t){e.$set(e.device_info,"area",t)},expression:"device_info.area"}},[t("el-option",{attrs:{label:"出口区",value:"outlet"}}),t("el-option",{attrs:{label:"安全区",value:"security"}}),t("el-option",{attrs:{label:"核心区",value:"core"}}),t("el-option",{attrs:{label:"汇聚区",value:"convergence"}}),t("el-option",{attrs:{label:"接入区",value:"access"}}),t("el-option",{attrs:{label:"服务器区",value:"server"}}),t("el-option",{attrs:{label:"负载均衡区",value:"balance"}}),t("el-option",{attrs:{label:"设备管理区",value:"manage"}}),t("el-option",{attrs:{label:"流量监控区",value:"monitor"}}),t("el-option",{attrs:{label:"业务增值区",value:"value"}})],1)],1)],1),t("br"),t("el-form-item",{attrs:{label:"连接信息"}},[t("el-input",{staticClass:"input-with-select input",attrs:{placeholder:"请输入端口号"},model:{value:e.device_info.port,callback:function(t){e.$set(e.device_info,"port",t)},expression:"device_info.port"}},[t("el-select",{staticClass:"select",attrs:{slot:"prepend",placeholder:"协议"},slot:"prepend",model:{value:e.device_info.protocol,callback:function(t){e.$set(e.device_info,"protocol",t)},expression:"device_info.protocol"}},[t("el-option",{attrs:{label:"SSH",value:"ssh"}}),t("el-option",{attrs:{label:"TELNET",value:"telnet"}}),t("el-option",{attrs:{label:"FTP",value:"ftp"}}),t("el-option",{attrs:{label:"SCP",value:"scp"}}),t("el-option",{attrs:{label:"TFTP",value:"tftp"}})],1)],1)],1),t("el-form-item",[t("el-input",{staticClass:"input",attrs:{placeholder:"请输入IP或域名"},model:{value:e.device_info.ip_expression,callback:function(t){e.$set(e.device_info,"ip_expression",t)},expression:"device_info.ip_expression"}},[t("template",{slot:"prepend"},[e._v("IP  ")]),t("el-select",{staticClass:"checkselect",attrs:{slot:"prepend",placeholder:"检查协议"},slot:"prepend",model:{value:e.device_info.check_protocol,callback:function(t){e.$set(e.device_info,"check_protocol",t)},expression:"device_info.check_protocol"}},[t("el-option",{attrs:{label:"TCP",value:"tcp"}}),t("el-option",{attrs:{label:"ICMP",value:"icmp"}})],1),t("el-button",{staticClass:"checkbutton",attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.checkip},slot:"append"})],2)],1),t("br"),t("el-form-item",{attrs:{label:"用户信息"}},[t("el-input",{staticClass:"input",attrs:{placeholder:"请输入用户名"},model:{value:e.device_info.username,callback:function(t){e.$set(e.device_info,"username",t)},expression:"device_info.username"}},[t("template",{slot:"prepend"},[e._v("用户名")])],2)],1),t("el-form-item",[t("el-input",{staticClass:"input",attrs:{"show-password":!0,placeholder:"请输入密码"},model:{value:e.device_info.password,callback:function(t){e.$set(e.device_info,"password",t)},expression:"device_info.password"}},[t("template",{slot:"prepend"},[e._v("密码")])],2)],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"cisco"==e.device_info.device_class|"ruijie"==e.device_info.device_class,expression:"device_info.device_class == 'cisco' | device_info.device_class == 'ruijie'"}]},[t("el-input",{staticClass:"secret_input",attrs:{"show-password":!0,placeholder:"请输入特权密码"},model:{value:e.device_info.secret,callback:function(t){e.$set(e.device_info,"secret",t)},expression:"device_info.secret"}},[t("template",{slot:"prepend"},[e._v("Secret")])],2)],1),t("br"),t("el-button",{staticClass:"button",on:{click:e.commit}},[e._v("创建")])],1)],1)},_e=[],ce=function(){var e=this,t=e._self._c;return t("div",[t("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.pop_able,expression:"pop_able"}],attrs:{title:e.pop_title,type:e.pop_type}})],1)},pe=[],de={name:"DeviceCreatePopInfo",computed:{pop_able(){return this.$store.state.deviceaddAbout.pop_info.able},pop_title(){return this.$store.state.deviceaddAbout.pop_info.title},pop_type(){return this.$store.state.deviceaddAbout.pop_info.type}},mounted(){}},ue=de,me=(0,c.Z)(ue,ce,pe,!1,null,null,null),he=me.exports,fe={name:"DeviceCreate",components:{DeviceCreatePopInfo:he},methods:{...(0,M.nv)("deviceaddAbout",{commit:"commit",checkip:"checkip"}),...(0,M.OI)("deviceaddAbout",{PROJECT_POP_INFO:"PROJECT_POP_INFO",AREA_POP_INFO:"AREA_POP_INFO",IP_EXPRESSION_POP_INFO:"IP_EXPRESSION_POP_INFO",PROTOCOL_POP_INFO:"PROTOCOL_POP_INFO",PORT_POP_INFO:"PORT_POP_INFO"})},computed:{device_info(){return this.$store.state.deviceaddAbout.device_info},project(){return this.device_info.project},device_class(){return this.device_info.device_class},area(){return this.device_info.area},protocol(){return this.device_info.protocol},port(){return this.device_info.port},username(){return this.device_info.username},password(){return this.device_info.password},secret(){return this.device_info.secret},ip_expression(){return this.device_info.ip_expression},check_protocol(){return this.device_info.check_protocol}},watch:{ip_expression:{handler(){this.IP_EXPRESSION_POP_INFO()}},port:{handler(){this.PORT_POP_INFO()}},protocol:{handler(){this.PROTOCOL_POP_INFO()}},area:{handler(){this.AREA_POP_INFO()}},project:{handler(){this.PROJECT_POP_INFO()}}},mounted(){}},ve=fe,be=(0,c.Z)(ve,re,_e,!1,null,"cce69574",null),xe=be.exports,Ee=function(){var e=this,t=e._self._c;return t("div",[t("el-divider",{attrs:{"content-position":"left"}},[e._v("刪除数据")]),t("div",{staticClass:"popinfo"},[t("DeviceDeletePopInfo")],1),t("el-form",{ref:"delete_info",attrs:{inline:!0,mode:e.delete_info,"label-width":"80px","label-position":"rigth"}},[t("el-form-item",{attrs:{label:"项目名称"}},[t("el-input",{staticClass:"project_input",attrs:{placeholder:"请输入项目名称"},model:{value:e.delete_info.project,callback:function(t){e.$set(e.delete_info,"project",t)},expression:"delete_info.project"}},[t("template",{slot:"prepend"},[e._v("项目名称")])],2)],1),t("br"),t("el-form-item",{attrs:{label:"设备信息"}},[t("el-input",{staticClass:"input-with-select input",attrs:{placeholder:"自定义设备类型"},model:{value:e.delete_info.device_class,callback:function(t){e.$set(e.delete_info,"device_class",t)},expression:"delete_info.device_class"}},[t("el-select",{staticClass:"select",attrs:{slot:"prepend",placeholder:"类型"},slot:"prepend",model:{value:e.delete_info.device_class,callback:function(t){e.$set(e.delete_info,"device_class",t)},expression:"delete_info.device_class"}},[t("el-option",{attrs:{label:"Huawei",value:"huawei"}}),t("el-option",{attrs:{label:"Ruijie",value:"ruijie"}}),t("el-option",{attrs:{label:"Cisco",value:"cisco"}}),t("el-option",{attrs:{label:"Linux",value:"linux"}})],1)],1)],1),t("el-form-item",[t("el-input",{staticClass:"input-with-select input",attrs:{placeholder:"自定义设备层级"},model:{value:e.delete_info.area,callback:function(t){e.$set(e.delete_info,"area",t)},expression:"delete_info.area"}},[t("el-select",{staticClass:"select",attrs:{slot:"prepend",placeholder:"层级"},slot:"prepend",model:{value:e.delete_info.area,callback:function(t){e.$set(e.delete_info,"area",t)},expression:"delete_info.area"}},[t("el-option",{attrs:{label:"出口区",value:"outlet"}}),t("el-option",{attrs:{label:"安全区",value:"security"}}),t("el-option",{attrs:{label:"核心区",value:"core"}}),t("el-option",{attrs:{label:"汇聚区",value:"convergence"}}),t("el-option",{attrs:{label:"接入区",value:"access"}}),t("el-option",{attrs:{label:"服务器区",value:"server"}}),t("el-option",{attrs:{label:"负载均衡区",value:"balance"}}),t("el-option",{attrs:{label:"设备管理区",value:"manage"}}),t("el-option",{attrs:{label:"流量监控区",value:"monitor"}}),t("el-option",{attrs:{label:"业务增值区",value:"value"}})],1)],1)],1),t("br"),t("el-form-item",{attrs:{label:"连接信息"}},[t("el-input",{staticClass:"input-with-select input",attrs:{placeholder:"请输入端口号"},model:{value:e.delete_info.port,callback:function(t){e.$set(e.delete_info,"port",t)},expression:"delete_info.port"}},[t("el-select",{staticClass:"select",attrs:{slot:"prepend",placeholder:"协议"},slot:"prepend",model:{value:e.delete_info.protocol,callback:function(t){e.$set(e.delete_info,"protocol",t)},expression:"delete_info.protocol"}},[t("el-option",{attrs:{label:"SSH",value:"ssh"}}),t("el-option",{attrs:{label:"TELNET",value:"telnet"}}),t("el-option",{attrs:{label:"FTP",value:"ftp"}}),t("el-option",{attrs:{label:"SCP",value:"scp"}}),t("el-option",{attrs:{label:"TFTP",value:"tftp"}})],1)],1)],1),t("el-form-item",[t("el-input",{staticClass:"input",attrs:{placeholder:"请输入IP"},model:{value:e.delete_info.ip_expression,callback:function(t){e.$set(e.delete_info,"ip_expression",t)},expression:"delete_info.ip_expression"}},[t("template",{slot:"prepend"},[e._v("IP  ")])],2)],1),t("br"),t("el-form-item",{attrs:{label:"用户信息"}},[t("el-input",{staticClass:"input",attrs:{placeholder:"请输入用户名"},model:{value:e.delete_info.username,callback:function(t){e.$set(e.delete_info,"username",t)},expression:"delete_info.username"}},[t("template",{slot:"prepend"},[e._v("用户名")])],2)],1),t("el-form-item",[t("el-input",{staticClass:"input",attrs:{"show-password":!0,placeholder:"请输入密码"},model:{value:e.delete_info.password,callback:function(t){e.$set(e.delete_info,"password",t)},expression:"delete_info.password"}},[t("template",{slot:"prepend"},[e._v("密码")])],2)],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"cisco"==e.delete_info.device_class|"ruijie"==e.delete_info.device_class,expression:"delete_info.device_class == 'cisco' | delete_info.device_class == 'ruijie'"}]},[t("el-input",{staticClass:"secret_input",attrs:{"show-password":!0,placeholder:"请输入特权密码"},model:{value:e.delete_info.secret,callback:function(t){e.$set(e.delete_info,"secret",t)},expression:"delete_info.secret"}},[t("template",{slot:"prepend"},[e._v("Secret")])],2)],1),t("br")],1),t("br"),t("el-button",{staticClass:"button",on:{click:e.remove}},[e._v("删除")])],1)},ge=[],Te=function(){var e=this,t=e._self._c;return t("div",[t("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.pop_able,expression:"pop_able"}],attrs:{title:e.pop_title,type:e.pop_type}})],1)},Oe=[],Se={name:"DeviceDeletePopInfo",computed:{pop_able(){return this.$store.state.devicedeleteAbout.pop_info.able},pop_title(){return this.$store.state.devicedeleteAbout.pop_info.title},pop_type(){return this.$store.state.devicedeleteAbout.pop_info.type}},mounted(){}},Ce=Se,ye=(0,c.Z)(Ce,Te,Oe,!1,null,null,null),Ie=ye.exports,we={name:"DeviceDelete",components:{DeviceDeletePopInfo:Ie},methods:{...(0,M.nv)("devicedeleteAbout",{remove:"remove"}),...(0,M.OI)("devicedeleteAbout",{})},computed:{delete_info(){return this.$store.state.devicedeleteAbout.delete_info}},watch:{},mounted(){}},Ae=we,$e=(0,c.Z)(Ae,Ee,ge,!1,null,"54dfa15a",null),Ne=$e.exports,je=function(){var e=this,t=e._self._c;return t("div",[t("el-divider",{attrs:{"content-position":"left"}},[e._v("更新条件")]),t("el-form",{ref:"where_info",attrs:{inline:!0,mode:e.where_info,"label-width":"80px","label-position":"rigth"}},[t("el-form-item",{attrs:{label:"项目名称"}},[t("el-input",{staticClass:"project_input",attrs:{placeholder:"请输入项目名称"},model:{value:e.where_info.project,callback:function(t){e.$set(e.where_info,"project",t)},expression:"where_info.project"}},[t("template",{slot:"prepend"},[e._v("项目名称")])],2)],1),t("br"),t("el-form-item",{attrs:{label:"设备信息"}},[t("el-input",{staticClass:"input-with-select input",attrs:{placeholder:"自定义设备类型"},model:{value:e.where_info.device_class,callback:function(t){e.$set(e.where_info,"device_class",t)},expression:"where_info.device_class"}},[t("el-select",{staticClass:"select",attrs:{slot:"prepend",placeholder:"类型"},slot:"prepend",model:{value:e.where_info.device_class,callback:function(t){e.$set(e.where_info,"device_class",t)},expression:"where_info.device_class"}},[t("el-option",{attrs:{label:"Huawei",value:"huawei"}}),t("el-option",{attrs:{label:"Ruijie",value:"ruijie"}}),t("el-option",{attrs:{label:"Cisco",value:"cisco"}}),t("el-option",{attrs:{label:"Linux",value:"linux"}})],1)],1)],1),t("el-form-item",[t("el-input",{staticClass:"input-with-select input",attrs:{placeholder:"自定义设备层级"},model:{value:e.where_info.area,callback:function(t){e.$set(e.where_info,"area",t)},expression:"where_info.area"}},[t("el-select",{staticClass:"select",attrs:{slot:"prepend",placeholder:"层级"},slot:"prepend",model:{value:e.where_info.area,callback:function(t){e.$set(e.where_info,"area",t)},expression:"where_info.area"}},[t("el-option",{attrs:{label:"出口区",value:"outlet"}}),t("el-option",{attrs:{label:"安全区",value:"security"}}),t("el-option",{attrs:{label:"核心区",value:"core"}}),t("el-option",{attrs:{label:"汇聚区",value:"convergence"}}),t("el-option",{attrs:{label:"接入区",value:"access"}}),t("el-option",{attrs:{label:"服务器区",value:"server"}}),t("el-option",{attrs:{label:"负载均衡区",value:"balance"}}),t("el-option",{attrs:{label:"设备管理区",value:"manage"}}),t("el-option",{attrs:{label:"流量监控区",value:"monitor"}}),t("el-option",{attrs:{label:"业务增值区",value:"value"}})],1)],1)],1),t("br"),t("el-form-item",{attrs:{label:"连接信息"}},[t("el-input",{staticClass:"input-with-select input",attrs:{placeholder:"请输入端口号"},model:{value:e.where_info.port,callback:function(t){e.$set(e.where_info,"port",t)},expression:"where_info.port"}},[t("el-select",{staticClass:"select",attrs:{slot:"prepend",placeholder:"协议"},slot:"prepend",model:{value:e.where_info.protocol,callback:function(t){e.$set(e.where_info,"protocol",t)},expression:"where_info.protocol"}},[t("el-option",{attrs:{label:"SSH",value:"ssh"}}),t("el-option",{attrs:{label:"TELNET",value:"telnet"}}),t("el-option",{attrs:{label:"FTP",value:"ftp"}}),t("el-option",{attrs:{label:"SCP",value:"scp"}}),t("el-option",{attrs:{label:"TFTP",value:"tftp"}})],1)],1)],1),t("el-form-item",[t("el-input",{staticClass:"input",attrs:{placeholder:"请输入IP"},model:{value:e.where_info.ip_expression,callback:function(t){e.$set(e.where_info,"ip_expression",t)},expression:"where_info.ip_expression"}},[t("template",{slot:"prepend"},[e._v("IP  ")])],2)],1),t("br"),t("el-form-item",{attrs:{label:"用户信息"}},[t("el-input",{staticClass:"input",attrs:{placeholder:"请输入用户名"},model:{value:e.where_info.username,callback:function(t){e.$set(e.where_info,"username",t)},expression:"where_info.username"}},[t("template",{slot:"prepend"},[e._v("用户名")])],2)],1),t("el-form-item",[t("el-input",{staticClass:"input",attrs:{"show-password":!0,placeholder:"请输入密码"},model:{value:e.where_info.password,callback:function(t){e.$set(e.where_info,"password",t)},expression:"where_info.password"}},[t("template",{slot:"prepend"},[e._v("密码")])],2)],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"cisco"==e.where_info.device_class|"ruijie"==e.where_info.device_class,expression:"where_info.device_class == 'cisco' | where_info.device_class == 'ruijie'"}]},[t("el-input",{staticClass:"secret_input",attrs:{"show-password":!0,placeholder:"请输入特权密码"},model:{value:e.where_info.secret,callback:function(t){e.$set(e.where_info,"secret",t)},expression:"where_info.secret"}},[t("template",{slot:"prepend"},[e._v("Secret")])],2)],1),t("br")],1),t("el-divider",{attrs:{"content-position":"left"}},[e._v("更新数据")]),t("div",{staticClass:"popinfo"},[t("DeviceUpdatePopInfo")],1),t("el-form",{ref:"update_info",attrs:{inline:!0,mode:e.update_info,"label-width":"80px","label-position":"rigth"}},[t("el-form-item",{attrs:{label:"项目名称"}},[t("el-input",{staticClass:"project_input",attrs:{placeholder:"请输入项目名称"},model:{value:e.update_info.project,callback:function(t){e.$set(e.update_info,"project",t)},expression:"update_info.project"}},[t("template",{slot:"prepend"},[e._v("项目名称")])],2)],1),t("br"),t("el-form-item",{attrs:{label:"设备信息"}},[t("el-input",{staticClass:"input-with-select input",attrs:{placeholder:"自定义设备类型"},model:{value:e.update_info.device_class,callback:function(t){e.$set(e.update_info,"device_class",t)},expression:"update_info.device_class"}},[t("el-select",{staticClass:"select",attrs:{slot:"prepend",placeholder:"类型"},slot:"prepend",model:{value:e.update_info.device_class,callback:function(t){e.$set(e.update_info,"device_class",t)},expression:"update_info.device_class"}},[t("el-option",{attrs:{label:"Huawei",value:"huawei"}}),t("el-option",{attrs:{label:"Ruijie",value:"ruijie"}}),t("el-option",{attrs:{label:"Cisco",value:"cisco"}}),t("el-option",{attrs:{label:"Linux",value:"linux"}})],1)],1)],1),t("el-form-item",[t("el-input",{staticClass:"input-with-select input",attrs:{placeholder:"自定义设备层级"},model:{value:e.update_info.area,callback:function(t){e.$set(e.update_info,"area",t)},expression:"update_info.area"}},[t("el-select",{staticClass:"select",attrs:{slot:"prepend",placeholder:"层级"},slot:"prepend",model:{value:e.update_info.area,callback:function(t){e.$set(e.update_info,"area",t)},expression:"update_info.area"}},[t("el-option",{attrs:{label:"出口区",value:"outlet"}}),t("el-option",{attrs:{label:"安全区",value:"security"}}),t("el-option",{attrs:{label:"核心区",value:"core"}}),t("el-option",{attrs:{label:"汇聚区",value:"convergence"}}),t("el-option",{attrs:{label:"接入区",value:"access"}}),t("el-option",{attrs:{label:"服务器区",value:"server"}}),t("el-option",{attrs:{label:"负载均衡区",value:"balance"}}),t("el-option",{attrs:{label:"设备管理区",value:"manage"}}),t("el-option",{attrs:{label:"流量监控区",value:"monitor"}}),t("el-option",{attrs:{label:"业务增值区",value:"value"}})],1)],1)],1),t("br"),t("el-form-item",{attrs:{label:"连接信息"}},[t("el-input",{staticClass:"input-with-select input",attrs:{placeholder:"请输入端口号"},model:{value:e.update_info.port,callback:function(t){e.$set(e.update_info,"port",t)},expression:"update_info.port"}},[t("el-select",{staticClass:"select",attrs:{slot:"prepend",placeholder:"协议"},slot:"prepend",model:{value:e.update_info.protocol,callback:function(t){e.$set(e.update_info,"protocol",t)},expression:"update_info.protocol"}},[t("el-option",{attrs:{label:"SSH",value:"ssh"}}),t("el-option",{attrs:{label:"TELNET",value:"telnet"}}),t("el-option",{attrs:{label:"FTP",value:"ftp"}}),t("el-option",{attrs:{label:"SCP",value:"scp"}}),t("el-option",{attrs:{label:"TFTP",value:"tftp"}})],1)],1)],1),t("el-form-item",[t("el-input",{staticClass:"input",attrs:{placeholder:"请输入IP"},model:{value:e.update_info.ip_expression,callback:function(t){e.$set(e.update_info,"ip_expression",t)},expression:"update_info.ip_expression"}},[t("template",{slot:"prepend"},[e._v("IP  ")])],2)],1),t("br"),t("el-form-item",{attrs:{label:"用户信息"}},[t("el-input",{staticClass:"input",attrs:{placeholder:"请输入用户名"},model:{value:e.update_info.username,callback:function(t){e.$set(e.update_info,"username",t)},expression:"update_info.username"}},[t("template",{slot:"prepend"},[e._v("用户名")])],2)],1),t("el-form-item",[t("el-input",{staticClass:"input",attrs:{"show-password":!0,placeholder:"请输入密码"},model:{value:e.update_info.password,callback:function(t){e.$set(e.update_info,"password",t)},expression:"update_info.password"}},[t("template",{slot:"prepend"},[e._v("密码")])],2)],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"cisco"==e.update_info.device_class|"ruijie"==e.update_info.device_class,expression:"update_info.device_class == 'cisco' | update_info.device_class == 'ruijie'"}]},[t("el-input",{staticClass:"secret_input",attrs:{"show-password":!0,placeholder:"请输入特权密码"},model:{value:e.update_info.secret,callback:function(t){e.$set(e.update_info,"secret",t)},expression:"update_info.secret"}},[t("template",{slot:"prepend"},[e._v("Secret")])],2)],1),t("br")],1),t("br"),t("el-button",{staticClass:"button",on:{click:e.update}},[e._v("更新")])],1)},ke=[],Pe=function(){var e=this,t=e._self._c;return t("div",[t("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.pop_able,expression:"pop_able"}],attrs:{title:e.pop_title,type:e.pop_type}})],1)},Me=[],Re={name:"DeviceUpdatePopInfo",computed:{pop_able(){return this.$store.state.deviceupdateAbout.pop_info.able},pop_title(){return this.$store.state.deviceupdateAbout.pop_info.title},pop_type(){return this.$store.state.deviceupdateAbout.pop_info.type}},mounted(){}},Le=Re,De=(0,c.Z)(Le,Pe,Me,!1,null,null,null),Fe=De.exports,Xe={name:"DeviceUpdate",components:{DeviceUpdatePopInfo:Fe},methods:{...(0,M.nv)("deviceupdateAbout",{update:"update"}),...(0,M.OI)("deviceupdateAbout",{IP_EXPRESSION_POP_INFO:"IP_EXPRESSION_POP_INFO",PORT_POP_INFO:"PORT_POP_INFO"})},computed:{where_info(){return this.$store.state.deviceupdateAbout.where_info},update_info(){return this.$store.state.deviceupdateAbout.update_info},ip_expression(){return this.update_info.ip_expression},port(){return this.update_info.port}},watch:{ip_expression(){this.IP_EXPRESSION_POP_INFO()},port(){this.PORT_POP_INFO()}},mounted(){}},He=Xe,Ue=(0,c.Z)(He,je,ke,!1,null,"86bd2572",null),Je=Ue.exports,Be=function(){var e=this,t=e._self._c;return t("el-container",[e.mixunit_view_able?t("el-header",{staticStyle:{"margin-top":"-20px"},attrs:{height:"30px"}},[t("div",[t("el-button",{on:{click:e.goback}},[e._v("返回")])],1),t("div",[t("el-autocomplete",{staticClass:"search",attrs:{"prefix-icon":"el-icon-search","fetch-suggestions":e.querySearchAsync,placeholder:"输入任意单位名称进行搜索"},on:{select:e.handleSelect},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1)]):e._e(),e.mixunit_view_able?t("el-main",[t("ul",e._l(e.mixunit_list,(function(a,o){return t("li",{key:o},[t("el-card",{staticClass:"head_card"},[t("el-badge",{staticClass:"success",attrs:{value:0,max:99,type:"primary"}},[t("el-button",{attrs:{size:"small"}},[e._v("检测正常")])],1),t("el-badge",{staticClass:"error",attrs:{value:0,max:99}},[t("el-button",{attrs:{size:"small"}},[e._v("检测异常")])],1),t("el-badge",{staticClass:"warning",attrs:{value:0,max:99,type:"warning"}},[t("el-button",{attrs:{size:"small"}},[e._v("检测失败")])],1),t("el-button",{staticClass:"head_button",attrs:{type:"primary"},on:{click:function(t){e.show_oprate_page(),e.set_choose_mixunit(a)}}},[e._v("操作")])],1),t("el-card",{staticClass:"body_card"},[t("span",[e._v("区域名称:"+e._s(a[3]))]),t("br"),t("span",[e._v("设备类型:"+e._s(a[2]))]),t("br"),t("span",[e._v("协议类型:"+e._s(a[4]))]),t("br"),t("span",[e._v("端口号:"+e._s(a[5]))]),t("br"),t("span",[e._v("用户名:"+e._s(a[6]))]),t("br"),t("span",[e._v("密码:"+e._s(a[7]))]),t("br"),e.if_secret_able(a[8])?t("span",[e._v("特权密码:"+e._s(a[8]))]):e._e(),e.if_secret_able(a[8])?t("br"):e._e(),t("span",[e._v("IP表达式:"+e._s(a[9]))])])],1)})),0)]):e._e(),t("router-view")],1)},Ve=[],Ge={name:"MixUnitPage",data(){return{secret_able:!1,input:""}},methods:{...(0,M.OI)("devicestateAbout",{SET_PROJECT_VIEW_ABLE:"SET_PROJECT_VIEW_ABLE"}),...(0,M.OI)("mixunitpageAbout",{GET_MIXUNIT_DATA:"GET_MIXUNIT_DATA",SET_MIXUNIT_VIEW_ABLE:"SET_MIXUNIT_VIEW_ABLE",GET_SEARCH_DATA:"GET_SEARCH_DATA",CHOOSE_CHANGE:"CHOOSE_CHANGE",ROLLBACK_MIXUNIT_LIST:"ROLLBACK_MIXUNIT_LIST",SET_MIXUNIT_LIST:"SET_MIXUNIT_LIST"}),...(0,M.OI)("projectoprateAbout",{SET_CHOOSE_MIXUNIT:"SET_CHOOSE_MIXUNIT",SET_OPRATE_MODE:"SET_OPRATE_MODE"}),goback(){console.log("触发了"),this.SET_OPRATE_MODE("project"),this.$router.push({name:"state"}),this.SET_PROJECT_VIEW_ABLE(!0)},if_secret_able(e){return!!e.length},show_oprate_page(){this.SET_MIXUNIT_VIEW_ABLE(!1),this.SET_PROJECT_VIEW_ABLE(!1),this.$router.push({name:"projectoprate"})},set_choose_mixunit(e){this.SET_CHOOSE_MIXUNIT(e)},querySearchAsync(e,t){let a=this.mixunit_search_list;a=e?a.filter(this.createStateFilter(e)):a,t(a)},createStateFilter(e){return t=>t.value.toLowerCase().match(e.toLowerCase())},handleSelect(e){this.CHOOSE_CHANGE({project:this.$route.params.project,search:e.value})}},computed:{mixunit_list(){return this.$store.state.mixunitpageAbout.mixunit_list},mixunit_view_able(){return this.$store.state.mixunitpageAbout.mixunit_view_able},mixunit_search_list(){return this.$store.state.mixunitpageAbout.mixunit_search_list}},watch:{input(e,t){""!==t&&""===e&&this.ROLLBACK_MIXUNIT_LIST()}},beforeDestroy(){this.SET_MIXUNIT_LIST([])},mounted(){this.GET_MIXUNIT_DATA({project:this.$route.params.project}),this.GET_SEARCH_DATA(this.$route.params.project),this.SET_OPRATE_MODE("mixunit")}},Ke=Ge,We=(0,c.Z)(Ke,Be,Ve,!1,null,"ce047658",null),Ze=We.exports,ze=function(){var e=this,t=e._self._c;return t("el-container",{staticClass:"el_container"},[t("el-header",{attrs:{height:"0px"}},[t("div",{staticClass:"title"},[e._l(e.base_title,(function(a,o){return t("el-tag",{key:o,attrs:{effect:"dark",size:"mini",type:a.type}},[e._v(" "+e._s(a.label)+" ")])})),t("br")],2)]),t("el-main",{staticClass:"el_main"},[t("el-input",{staticClass:"el_main-el_input",attrs:{clearable:"",placeholder:"请输入命令"},on:{input:e.set_effect},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.commit_command.apply(null,arguments)}},model:{value:e.command,callback:function(t){e.command=t},expression:"command"}},[t("template",{slot:"prepend"},[e._v("CLI")])],2),t("br"),t("div",{staticClass:"el_main-div"},[t("el-progress",{staticClass:"el_main-div-el_progress",attrs:{"text-inside":!0,"stroke-width":5,format:e.format,percentage:e.effect_connect_percent}})],1),t("el-dialog",{attrs:{title:"设置参数",visible:e.setting_dialog_able,width:"700px"},on:{"update:visible":function(t){e.setting_dialog_able=t}}},[t("el-button",{attrs:{type:"text"},on:{click:function(t){e.send_dialog_able=!0}}},[e._v("设置命令参数")]),t("el-button",{attrs:{type:"text"},on:{click:function(t){e.path_dialog_able=!0}}},[e._v("设置文件路径参数")])],1),t("el-dialog",{attrs:{title:"设置命令参数",visible:e.send_dialog_able,width:"700px"},on:{"update:visible":function(t){e.send_dialog_able=t}}},[t("el-form",{attrs:{model:e.send_parameter}},[t("el-form-item",{staticStyle:{"margin-left":"-20px"},attrs:{label:"是否关闭显示命令","label-width":"130px"}},[t("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:e.send_parameter.command_able,callback:function(t){e.$set(e.send_parameter,"command_able",t)},expression:"send_parameter.command_able"}})],1),t("el-form-item",{staticStyle:{position:"absolute",left:"170px",top:"84px"},attrs:{label:"是否关闭设备提示符","label-width":"140px"}},[t("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:e.send_parameter.device_title_able,callback:function(t){e.$set(e.send_parameter,"device_title_able",t)},expression:"send_parameter.device_title_able"}})],1),t("el-form-item",{staticStyle:{position:"absolute",top:"84px",left:"356px"},attrs:{label:"命令输出的超时时间","label-width":"140px"}},[t("el-input-number",{attrs:{min:0,max:1e3,label:"读取回显的超时时间"},model:{value:e.send_parameter.read_timeout,callback:function(t){e.$set(e.send_parameter,"read_timeout",t)},expression:"send_parameter.read_timeout"}})],1),t("el-form-item",{staticStyle:{position:"absolute",top:"134px",left:"-38px"},attrs:{label:"历史命令上限","label-width":"140px"}},[t("el-input-number",{attrs:{min:1,max:9999,label:"历史命令上限"},model:{value:e.send_parameter.COMMAND_HISTORY_LIMIT,callback:function(t){e.$set(e.send_parameter,"COMMAND_HISTORY_LIMIT",t)},expression:"send_parameter.COMMAND_HISTORY_LIMIT"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.sendcommand_handler_cancel}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.sendcommand_handler_commit}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"设置文件路径参数",visible:e.path_dialog_able,width:"700px"},on:{"update:visible":function(t){e.path_dialog_able=t}}},[t("el-form",{attrs:{model:e.path_parameter}},[t("el-form-item",{attrs:{label:"TXT导出路径","label-width":"130px"}},[t("el-input",{attrs:{placeholder:"TXT文件导出路径"},model:{value:e.path_parameter.txt_export_path,callback:function(t){e.$set(e.path_parameter,"txt_export_path",t)},expression:"path_parameter.txt_export_path"}},[t("template",{slot:"prepend"},[e._v("PATH")])],2)],1),t("el-form-item",{attrs:{label:"FTP根路径","label-width":"130px"}},[t("el-input",{attrs:{placeholder:"FTP根路径"},model:{value:e.path_parameter.ftp_root_path,callback:function(t){e.$set(e.path_parameter,"ftp_root_path",t)},expression:"path_parameter.ftp_root_path"}},[t("template",{slot:"prepend"},[e._v("PATH")])],2)],1),t("el-form-item",{attrs:{label:"FTP上传文件路径","label-width":"130px"}},[t("el-input",{attrs:{placeholder:"FTP上传文件路径"},model:{value:e.path_parameter.ftp_upload_path,callback:function(t){e.$set(e.path_parameter,"ftp_upload_path",t)},expression:"path_parameter.ftp_upload_path"}},[t("template",{slot:"prepend"},[e._v("PATH")])],2)],1),t("el-form-item",{attrs:{label:"FTP下载文件路径","label-width":"130px"}},[t("el-input",{attrs:{placeholder:"FTP下载文件路径"},model:{value:e.path_parameter.ftp_download_path,callback:function(t){e.$set(e.path_parameter,"ftp_download_path",t)},expression:"path_parameter.ftp_download_path"}},[t("template",{slot:"prepend"},[e._v("PATH")])],2)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.filepath_handler_cancel}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.filepath_handler_commit}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"搜索历史命令",visible:e.search_command_history_able,width:"800px"},on:{"update:visible":function(t){e.search_command_history_able=t}}},[t("el-autocomplete",{staticClass:"search",attrs:{"prefix-icon":"el-icon-search","fetch-suggestions":e.querySearchAsync,placeholder:"输入命令或执行时间进行检索"},on:{select:e.handleSelect},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),t("div",{staticStyle:{height:"350px",overflow:"scroll"}},[t("ul",e._l(e.all_command_time_list,(function(a,o){return t("li",{key:o},[t("el-card",{staticClass:"box-card"},[t("el-button-group",{staticStyle:{float:"right","margin-top":"-20px","margin-right":"-20px"}},[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.show_history_command(a[0],a[1],o)}}},[e._v("查看")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.delete_history_command(a[0],a[1],a[2],o)}}},[e._v("删除")])],1),e._v(" 命令:"+e._s(a[0])),t("br"),e._v(" 执行时间:"+e._s(a[1])+" "),t("br")],1)],1)})),0)])],1),t("el-input",{staticClass:"el_main--el_input",attrs:{type:"textarea",rows:18,resize:"none"},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}}),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading_able,expression:"loading_able"}],staticClass:"el_main-loading_div",attrs:{"element-loading-text":"等待响应中...."}}),t("el-button-group",{staticClass:"el_main-el_button_group"},[t("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left",size:"mini"},on:{click:e.rollback_command}},[e._v("上一条命令")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.next_command}},[e._v("下一条命令"),t("i",{staticClass:"el-icon-arrow-right el-icon--right"})]),t("el-button",{attrs:{type:"primary",icon:"el-icon-document",size:"mini"},on:{click:e.export_textarea}}),t("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.search_command_handler}})],1),t("el-button-group",{staticClass:"el_main--el_button_group"},[t("el-button",{attrs:{type:"primary",icon:"el-icon-back",size:"mini"},on:{click:e.goBack}},[e._v("返回")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-setting",size:"mini"},on:{click:function(t){e.setting_dialog_able=!0}}})],1),t("ul",{staticClass:"el_main-ul"},[t("el-checkbox-group",{model:{value:e.check_list,callback:function(t){e.check_list=t},expression:"check_list"}},e._l(e.response_data_list,(function(a,o){return t("li",{key:o,staticClass:"el_main-ul-li"},[t("el-checkbox",{staticClass:"el_main-ul-li-el_checkbox",attrs:{checked:!0,label:a.type+a.ip+":"+a.port,border:!0}},[e._v(" "+e._s(a.type)+" "+e._s(a.ip)+" "+e._s(a.port)+" ")])],1)})),0)],1)],1)],1)},Ye=[],qe={name:"ProjectOprate",data(){return{command:"",check_list:[],response_percent:0,send_dialog_able:!1,path_dialog_able:!1,send_parameter:{device_title_able:!1,command_able:!1,read_timeout:10,COMMAND_HISTORY_LIMIT:500},path_parameter:{txt_export_path:"",ftp_root_path:"",ftp_upload_path:"",ftp_download_path:""},setting_dialog_able:!1,search_command_history_able:!1,input:""}},methods:{format(){return""},...(0,M.OI)("devicestateAbout",{SET_PROJECT_VIEW_ABLE:"SET_PROJECT_VIEW_ABLE"}),...(0,M.OI)("projectoprateAbout",{COMMIT_COMMAND:"COMMIT_COMMAND",SET_EFFECT:"SET_EFFECT",SET_TEXT_AREA:"SET_TEXT_AREA",SET_GO_BACK_STATE:"SET_GO_BACK_STATE",SET_CHOOSE_MIXUNIT:"SET_CHOOSE_MIXUNIT",SET_CHOOSE_PROJECT:"SET_CHOOSE_PROJECT",ROLLBACK_COMMAND:"ROLLBACK_COMMAND",NEXT_COMMAND:"NEXT_COMMAND",SET_COMMAND_INDEX:"SET_COMMAND_INDEX",SET_HISTORY_COMMAND_COUNT:"SET_HISTORY_COMMAND_COUNT",EXPORT_TEXTAREA:"EXPORT_TEXTAREA",GET_ALL_COMMAND_TIME:"GET_ALL_COMMAND_TIME",ROLLBACK_MIXUNIT_LIST:"ROLLBACK_MIXUNIT_LIST",CHOOSE_CHANGE:"CHOOSE_CHANGE",SHOW_HISTORY_COMMAND:"SHOW_HISTORY_COMMAND",DELETE_HISTORY_COMMAND:"DELETE_HISTORY_COMMAND",SET_VM:"SET_VM"}),...(0,M.OI)("mixunitpageAbout",{SET_MIXUNIT_VIEW_ABLE:"SET_MIXUNIT_VIEW_ABLE"}),goBack(){this.choose_mixunit.length>0?(this.SET_PROJECT_VIEW_ABLE(!1),this.SET_MIXUNIT_VIEW_ABLE(!0),this.$router.push({name:"mixunit",params:{project:this.choose_project[0]}})):(this.SET_PROJECT_VIEW_ABLE(!0),this.$router.push({name:"state"}))},commit_command(){this.command.length<=0?this.$message({showClose:!0,message:"命令不能为空",type:"warning"}):(this.check_list=[],this.COMMIT_COMMAND({command:this.command,send_parameter:this.send_parameter,path_parameter:this.path_parameter,choose_mixunit:this.choose_mixunit}))},set_effect(){this.SET_EFFECT(this.command)},sendcommand_handler_cancel(){this.send_dialog_able=!1},sendcommand_handler_commit(){g("/change_sendcommand_parameter",{where:{project:this.choose_project[0],mode:this.oprate_mode,area:this.choose_mixunit[3]},update:{device_title_able:this.send_parameter.device_title_able,command_able:this.send_parameter.command_able,read_timeout:this.send_parameter.read_timeout,COMMAND_HISTORY_LIMIT:this.send_parameter.COMMAND_HISTORY_LIMIT}},(e=>{console.log(e.data),this.send_dialog_able=!1}),(e=>{}))},filepath_handler_cancel(){this.path_dialog_able=!1},filepath_handler_commit(){g("/change_filepath_parameter",{where:{project:this.choose_project[0],mode:this.oprate_mode,area:this.choose_mixunit[3]},update:{txt_export_path:this.path_parameter.txt_export_path,ftp_root_path:this.path_parameter.ftp_root_path,ftp_upload_path:this.path_parameter.ftp_upload_path,ftp_download_path:this.path_parameter.ftp_download_path}},(e=>{console.log(e.data),this.path_dialog_able=!1}),(e=>{}))},rollback_command(){this.command_index>=this.history_command_count-1?this.$message({showClose:!0,message:"已经是最早的一条命令了",type:"warning"}):(this.check_list=[],this.ROLLBACK_COMMAND(),console.log(this.command_index))},next_command(){this.command_index<=-1?this.$message({showClose:!0,message:"没有更多命令了",type:"warning"}):this.command_index<=0?this.$message({showClose:!0,message:"已经是最后一条命令了",type:"warning"}):(this.check_list=[],this.NEXT_COMMAND(this),console.log(this.command_index))},export_textarea(){this.EXPORT_TEXTAREA({command:this.command,vm:this,txt_export_path:this.path_parameter.txt_export_path})},search_command_handler(){this.search_command_history_able=!0,this.input="",this.GET_ALL_COMMAND_TIME()},querySearchAsync(e,t){let a=this.all_command_time_search_list;a=e?a.filter(this.createStateFilter(e)):a,t(a)},createStateFilter(e){return t=>t.value.toLowerCase().match(e.toLowerCase())},handleSelect(e){this.CHOOSE_CHANGE(e)},show_history_command(e,t,a){this.check_list=[],this.search_command_history_able=!1,this.SHOW_HISTORY_COMMAND({command:e,date_time:t,index:a})},delete_history_command(e,t,a,o){this.check_list=[],this.DELETE_HISTORY_COMMAND({command:e,date_time:t,id:a,index:o})}},computed:{able(){return this.$store.state.devicestateAbout.able},textarea(){return this.$store.state.projectoprateAbout.textarea},project_name(){return this.$store.state.projectoprateAbout.choose_project[0]},effect_connect_percent(){return this.$store.state.projectoprateAbout.effect_connect_percent},choose_project(){return this.$store.state.projectoprateAbout.choose_project},choose_mixunit(){return this.$store.state.projectoprateAbout.choose_mixunit},response_data_list(){return this.$store.state.projectoprateAbout.response_data_list},loading_able(){return this.$store.state.projectoprateAbout.loading_able},base_title(){return 0===this.choose_mixunit.length?[{type:"",label:this.choose_project[0].slice(0,42)}]:[{type:"",label:this.choose_project[0].slice(0,42)},{type:"success",label:this.choose_mixunit[3]},{type:"danger",label:`${this.choose_mixunit[4]}://${this.choose_mixunit[9]}:${this.choose_mixunit[5]}`}]},oprate_mode(){return this.$store.state.projectoprateAbout.oprate_mode},command_index(){return this.$store.state.projectoprateAbout.command_index},history_command(){return this.$store.state.projectoprateAbout.history_command},history_command_count(){return this.$store.state.projectoprateAbout.history_command_count},all_command_time_search_list(){return this.$store.state.projectoprateAbout.all_command_time_search_list},all_command_time_list(){return this.$store.state.projectoprateAbout.all_command_time_list}},beforeDestroy(){O("/stop_ftp_serve"),this.SET_CHOOSE_MIXUNIT([]),this.SET_GO_BACK_STATE(),this.SET_COMMAND_INDEX(-1)},watch:{check_list(e){this.SET_TEXT_AREA(e)},send_dialog_able(e){g("/get_sendcommand_parameter",{project:this.choose_project[0],mode:this.oprate_mode,area:this.choose_mixunit[3]},(e=>{"False"==e.data[0][0]?this.send_parameter.device_title_able=!1:this.send_parameter.device_title_able=!0,"False"==e.data[0][1]?this.send_parameter.command_able=!1:this.send_parameter.command_able=!0,this.send_parameter.read_timeout=e.data[0][2],this.send_parameter.COMMAND_HISTORY_LIMIT=e.data[0][3]}),(e=>{})),console.log(this.send_parameter)},path_dialog_able(e){g("/get_filepath_parameter",{project:this.choose_project[0],mode:this.oprate_mode,area:this.choose_mixunit[3]},(e=>{this.path_parameter.txt_export_path=e.data[0][0],this.path_parameter.ftp_root_path=e.data[0][1],this.path_parameter.ftp_upload_path=e.data[0][2],this.path_parameter.ftp_download_path=e.data[0][3]}),(e=>{}))},history_command(e){this.command=e},input(e,t){""!==t&&""===e&&this.ROLLBACK_MIXUNIT_LIST()}},mounted(){this.SET_VM(this),this.set_effect(),g("/get_filepath_parameter",{project:this.choose_project[0],mode:this.oprate_mode,area:this.choose_mixunit[3]},(e=>{console.log(e.data),this.path_parameter.txt_export_path=e.data[0][0],this.path_parameter.ftp_root_path=e.data[0][1],this.path_parameter.ftp_upload_path=e.data[0][2],this.path_parameter.ftp_download_path=e.data[0][3],g("/start_ftp_server",{ftp_root_path:this.path_parameter.ftp_root_path})}),(e=>{})),g("/get_sendcommand_parameter",{project:this.choose_project[0],mode:this.oprate_mode,area:this.choose_mixunit[3]},(e=>{"False"==e.data[0][0]?this.send_parameter.device_title_able=!1:this.send_parameter.device_title_able=!0,"False"==e.data[0][1]?this.send_parameter.command_able=!1:this.send_parameter.command_able=!0,this.send_parameter.read_timeout=e.data[0][2],this.send_parameter.COMMAND_HISTORY_LIMIT=e.data[0][3]}),(e=>{})),this.SET_HISTORY_COMMAND_COUNT()}},Qe=qe,et=(0,c.Z)(Qe,ze,Ye,!1,null,"16ef4901",null),tt=et.exports,at=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{height:"520px"}},[t("el-empty",{staticStyle:{height:"500px"},attrs:{description:"没有代管理的项目"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.forward_to_create}},[e._v("新建项目")])],1)],1)},ot=[],it={name:"Empty",methods:{forward_to_create(){this.$bus.$emit("switch_activeIndex","second")}}},st=it,lt=(0,c.Z)(st,at,ot,!1,null,null,null),nt=lt.exports,rt=function(){var e=this,t=e._self._c;return t("div",[t("el-main",{staticStyle:{"margin-left":"-30px","margin-top":"-40px"}},[t("el-tabs",{attrs:{type:"card",closable:""},on:{"tab-remove":e.remove,"tab-click":e.record_index},model:{value:e.activename,callback:function(t){e.activename=t},expression:"activename"}},e._l(e.tabs,(function(e,a){return t("el-tab-pane",{key:e.name,staticStyle:{width:"958px"},attrs:{label:e.title,name:e.name}},[t("div",{staticStyle:{"margin-top":"15px","margin-left":"6px"}},[t("Filecreate",{attrs:{title:e.title,name:e.name,code:e.code,del_able:"空窗口"===e.title}})],1)])})),1)],1),t("el-drawer",{attrs:{title:"执行结果",visible:e.pop_able,direction:"btt",size:"90%"},on:{"update:visible":function(t){e.pop_able=t}}},[t("el-input",{staticClass:"el_main--el_input",attrs:{type:"textarea",rows:18,resize:"none"},model:{value:e.excute_text,callback:function(t){e.excute_text=t},expression:"excute_text"}}),t("ul",{staticClass:"el_main-ul"},[t("el-checkbox-group",{model:{value:e.check_list,callback:function(t){e.check_list=t},expression:"check_list"}},e._l(e.excute_response_data,(function(a,o){return t("li",{key:o,staticClass:"el_main-ul-li"},[t("el-checkbox",{staticClass:"el_main-ul-li-el_checkbox",attrs:{checked:!0,label:a.fun_name+a.ip+a.port+a.type,border:!0}},[e._v(" 函数:"+e._s(a.fun_name)+" IP:"+e._s(a.ip)+" 设备类型:"+e._s(a.type)+" ")])],1)})),0)],1)],1)],1)},_t=[],ct=function(){var e=this,t=e._self._c;return t("div",[t("el-button",{staticClass:"create",attrs:{type:e.save_bt_style,icon:"el-icon-folder-add",size:"small"},on:{click:e.save_file}},[e._v(" 保存 ")]),t("el-button",{staticClass:"delete",attrs:{type:"primary",icon:"el-icon-folder-delete",disabled:e.del_able,size:"small"},on:{click:e.delete_file}},[e._v(" 删除 ")]),t("el-button",{staticClass:"open",attrs:{type:"primary",icon:"el-icon-folder-opened",size:"small"},on:{click:e.open_file}},[e._v(" 打开文件 ")]),t("el-button",{staticClass:"empty_add",attrs:{type:"primary",icon:"el-icon-view",size:"small"},on:{click:e.add_empty}},[e._v(" 新窗口+ ")]),t("el-button",{staticClass:"excute",attrs:{type:e.excute_bt_style,icon:e.excute_icon,size:"small"},on:{click:e.excute_file}},[e._v(" 运行 ")]),t("el-button",{staticClass:"excute",attrs:{type:"info",icon:"el-icon-warning-outline",size:"small"},on:{click:e.show_excute_result}},[e._v(" 执行结果 ")]),t("codemirror",{ref:"myCm",staticClass:"editor",staticStyle:{"margin-left":"-15px","margin-top":"-15px"},attrs:{id:"codemirror",value:e.code,options:e.cmOptions},on:{input:e.change_text}})],1)},pt=[],dt=(a(9767),a(8310),a(3064),a(858),a(7434),a(4288),{name:"FileCreate",props:["title","name","code","del_able"],data(){return{cmOptions:{tabSize:4,styleActiveLine:!0,lineNumbers:!0,line:!0,mode:"text/javascript",lineWrapping:!0,theme:"monokai",foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"]},delete_able:!1,update_able:!1,excute_flag:!1,excute_icon:"el-icon-video-play",excute_bt_style:"primary",save_bt_style:"primary",storage_code:"",base_code:"name:\npriority:\n\nconfig:{\n\n  send:{\n  read_timeout:10.0\n   }\n\n}\n\ntranslation:{\n\n\n}\n\njinja2:{\n\n\n}\n\nexcute:{\n\n}\n\n"}},methods:{...(0,M.OI)("filecreateAbout",{SET_VM:"SET_VM"}),...(0,M.nv)("filecreateAbout",{save_netknife_file:"save_netknife_file",delete_netknife_file:"delete_netknife_file"}),save_file(){this.SET_VM(this),this.excute_flag=!1;const e=this.codemirror.getValue();this.save_netknife_file(e)},delete_file(){this.SET_VM(this);const e=this.codemirror.getValue();this.delete_netknife_file({code:e,name:this.name})},add_empty(){this.SET_VM(this),this.$bus.$emit("add")},open_file(){this.$bus.$emit("switch_activeIndex","three")},change_text(){localStorage[this.name]=JSON.stringify({name:this.name,title:this.title,code:this.codemirror.getValue()}),"NOT_EXIST"!==this.storage_code?this.codemirror.getValue()!==this.storage_code?this.save_bt_style="warning":this.save_bt_style="primary":this.codemirror.getValue()!==this.base_code?this.save_bt_style="warning":this.save_bt_style="primary"},excute_file(){this.SET_VM(this),this.excute_flag=!0;const e=this.codemirror.getValue();this.$bus.$emit("clear_check_list"),this.$bus.$emit("clear_excute_response_data"),this.save_netknife_file(e)},show_excute_result(){this.$bus.$emit("show_excute_result")}},computed:{codemirror(){return this.$refs.myCm.codemirror},file_name(){return this.$store.state.filecreateAbout.file_name}},mounted(){this.SET_VM(this),setTimeout((()=>{this.$bus.$emit("create_tabs")}),1),this.$bus.$on("change_excute_icon",(e=>{this.excute_icon=e})),this.$bus.$on("change_excute_style",(e=>{this.excute_bt_style=e})),this.$bus.$on("change_save_style",(e=>{this.save_bt_style=e})),console.log(`title是:${this.title}`),g("/get_netknife_code",{file_name:this.title},(e=>{this.storage_code=e.data,"NOT_EXIST"!==this.storage_code?this.codemirror.getValue()!==this.storage_code?this.save_bt_style="warning":this.save_bt_style="primary":this.codemirror.getValue()!==this.base_code?this.save_bt_style="warning":this.save_bt_style="primary"}))},created(){console.log(`create时的title${this.title}`)},beforeDestroy(){console.log("Destory"),this.$bus.$off("change_excute_icon"),this.$bus.$off("change_excute_style"),this.$bus.$off("change_save_style")}}),ut=dt,mt=(0,c.Z)(ut,ct,pt,!1,null,null,null),ht=mt.exports,ft={components:{Filecreate:ht},name:"FileManage",data(){return{base_code:"name:\npriority:\n\nconfig:{\n\n  send:{\n  read_timeout:10.0\n   }\n\n}\n\ntranslation:{\n\n\n}\n\njinja2:{\n\n\n}\n\nexcute:{\n\n}\n\n",activename:"0",tabs:[],tabindex:-1,storage_tabs:[],index_list:[],pop_able:!1,check_list:[]}},methods:{...(0,M.OI)("filemanageAbout",{SET_TITLE:"SET_TITLE",HANDLER_RESPONSE_DATA:"HANDLER_RESPONSE_DATA",SET_EXCUTE_TEXT:"SET_EXCUTE_TEXT",SET_RESPONSE_DATE_TIME:"SET_RESPONSE_DATE_TIME",SET_EXCUTE_RESPONSE_DATA:"SET_EXCUTE_RESPONSE_DATA"}),record_index(e){this.activename=e.name,localStorage.setItem("last_key",this.activename)},remove(e){let t=this.tabs;console.log(this.tabs.length),t.length<=1&&this.$router.push({name:"pageempty"});let a=this.activename;a===e&&t.forEach(((o,i)=>{if(o.name===e){let e=t[i+1]||t[i-1];e&&(a=e.name),this.tabs.length>1&&localStorage.setItem("last_key",e["name"])}})),this.activename=a,this.tabs=t.filter((t=>t.name!==e)),delete localStorage[e],(0===this.tabs.length&&"undefined"!==typeof localStorage["last_key"]||localStorage["last_key"]===e)&&delete localStorage["last_key"]},handler_response_data(e){this.$bus.$emit("change_excute_icon","el-icon-video-play"),this.$bus.$emit("change_excute_style","primary"),this.pop_able=!0,this.SET_RESPONSE_DATE_TIME(C()),this.HANDLER_RESPONSE_DATA(e)}},watch:{check_list(e){this.SET_EXCUTE_TEXT(e)}},computed:{excute_response_data(){return this.$store.state.filemanageAbout.excute_response_data},excute_text(){return this.$store.state.filemanageAbout.excute_text}},mounted(){Object.entries(localStorage).forEach((([e,t])=>{"last_key"!==e&&(this.tabindex=Math.max(this.tabindex,parseInt(e)),this.index_list.push(parseInt(e)),this.storage_tabs.push(JSON.parse(t)))})),this.index_list.sort((function(e,t){return t-e})),console.log(this.tabs),this.$bus.$on("add",(()=>{let e=++this.tabindex+"",t={name:e,title:"空窗口",code:this.base_code};this.tabs.push(t),this.activename=e,localStorage.setItem(t["name"],JSON.stringify(t)),localStorage["last_key"]=e})),this.$bus.$on("change_title",(e=>{this.tabs.forEach((t=>{if(t.name==this.activename){t.title=e;const a=JSON.parse(localStorage[t.name]);a["title"]=e,localStorage[t.name]=JSON.stringify(a)}}))})),this.$bus.$on("change_code",((e,t)=>{console.log(e),console.log(t),this.tabs.forEach((a=>{console.log(a["name"]),a["name"]===e&&(a["code"]=t)}))}));let e=!0;if(this.$bus.$on("create_tabs",(()=>{if("undefined"!==typeof localStorage["last_key"]&&0===this.index_list.length)return void(this.activename=localStorage["last_key"]);const t=JSON.parse(localStorage[this.index_list.pop()+""]);let a=t["name"],o={name:a,title:t["title"],code:t["code"]};o.name===localStorage["last_key"]&&this.$route.params.item&&e?(e=!1,o.title=this.$route.params.item["netknife"][0],g("/get_raw_code",{file_name:o.title},(e=>{o.code=e.data,localStorage[o.name]=JSON.stringify(o),this.tabs.push(o),this.activename=a}))):(this.tabs.push(o),this.activename=a)})),setTimeout((()=>{this.$bus.$emit("create_tabs")}),1),0===localStorage.length)if(this.$route.params.item){console.log(this.$route.params.item);let e=++this.tabindex+"",t={name:e,title:this.$route.params.item["netknife"][0],code:""};g("/get_raw_code",{file_name:t.title},(a=>{t.code=a.data,localStorage[t.name]=JSON.stringify(t),this.tabs.push(t),this.activename=e})),localStorage["last_key"]=e}else this.$bus.$emit("add");this.$bus.$on("excute",(e=>{this.$bus.$emit("change_excute_icon","el-icon-video-pause"),this.$bus.$emit("change_excute_style","warning"),g("/excute_netknife_file",{file_name:e},(e=>"FILE_NOT_EXIST"===e.data?(this.$message({showClose:!0,message:"请保存后运行",type:"error"}),this.$bus.$emit("change_excute_icon","el-icon-video-play"),void this.$bus.$emit("change_excute_style","primary")):"EXCUTE_NOT_EXIST"===e.data?(this.$message({showClose:!0,message:"Excute中没有等待执行的语句",type:"warning"}),this.$bus.$emit("change_excute_icon","el-icon-video-play"),void this.$bus.$emit("change_excute_style","primary")):"LOCAL_FUN_NOT_EXIST"===e.data?(this.$message({showClose:!0,message:"Excute中存在本地Jinja2中不存在的函数",type:"warning"}),this.$bus.$emit("change_excute_icon","el-icon-video-play"),void this.$bus.$emit("change_excute_style","primary")):"IMPORT_FUN_NOT_EXIST"===e.data?(this.$message({showClose:!0,message:"Excute中导入的Jinja2函数不存在",type:"warning"}),this.$bus.$emit("change_excute_icon","el-icon-video-play"),void this.$bus.$emit("change_excute_style","primary")):"EXCUTE_FAULT"===e.data?(this.$message({showClose:!0,message:"执行失败",type:"error"}),this.$bus.$emit("change_excute_icon","el-icon-video-play"),void this.$bus.$emit("change_excute_style","primary")):"NOT_CHOOSE_EFFECT_RANGE"===e.data?(this.$message({showClose:!0,message:"Excute中存在无指定范围的指令",type:"warning"}),this.$bus.$emit("change_excute_icon","el-icon-video-play"),void this.$bus.$emit("change_excute_style","primary")):"MIXUNIT_NOT_EXIST"===e.data?(this.$message({showClose:!0,message:"Excute中存在指定范围无效的指令",type:"warning"}),this.$bus.$emit("change_excute_icon","el-icon-video-play"),void this.$bus.$emit("change_excute_style","primary")):(console.log(e.data),"JINJA2_REPEAT_IMPORT"===e.data?(this.$message({showClose:!0,message:"JINJA2函数中存在循环引用",type:"warning"}),this.$bus.$emit("change_excute_icon","el-icon-video-play"),void this.$bus.$emit("change_excute_style","primary")):"TRANSLATION_REPEAT_IMPORT"===e.data?(this.$message({showClose:!0,message:"TRANSLATION函数中存在循环引用",type:"warning"}),this.$bus.$emit("change_excute_icon","el-icon-video-play"),void this.$bus.$emit("change_excute_style","primary")):void this.handler_response_data(e.data))))})),this.$bus.$on("show_excute_result",(()=>{this.pop_able=!0})),this.$bus.$on("clear_check_list",(()=>{this.check_list=[]})),this.$bus.$on("clear_excute_response_data",(()=>{this.SET_EXCUTE_RESPONSE_DATA([])}))},beforeDestroy(){this.$bus.$off("add"),this.$bus.$off("change_title"),this.$bus.$off("change_code"),this.$bus.$off("excute"),this.$bus.$off("show_excute_result"),this.$bus.$off("clear_check_list"),this.$bus.$off("clear_excute_response_data")}},vt=ft,bt=(0,c.Z)(vt,rt,_t,!1,null,"180f91a8",null),xt=bt.exports,Et=function(){var e=this,t=e._self._c;return t("el-empty",{staticStyle:{height:"500px"},attrs:{description:"新键窗口或打开文件开始编辑"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.create_page}},[e._v("新建窗口")]),t("el-button",{attrs:{type:"primary"},on:{click:e.open_page}},[e._v("打开文件")])],1)},gt=[],Tt={name:"PageEmpty",methods:{create_page(){this.$router.push({name:"filemanage"})},open_page(){this.$bus.$emit("switch_activeIndex","three")}}},Ot=Tt,St=(0,c.Z)(Ot,Et,gt,!1,null,null,null),Ct=St.exports,yt=function(){var e=this,t=e._self._c;return t("div",[t("div",[t("el-header",{staticStyle:{"margin-top":"-20px"},attrs:{height:"30px"}},[t("el-autocomplete",{staticStyle:{width:"500px","margin-left":"200px"},attrs:{"prefix-icon":"el-icon-search","fetch-suggestions":e.querySearchAsync,placeholder:"输入文件名称进行搜索"},on:{select:e.handleSelect},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1)],1),t("div",{staticClass:"netknife_ul"},[t("ul",e._l(e.netknife_data,(function(a,o){return t("li",{key:o},[t("el-card",{staticClass:"box-card card"},[t("el-tag",{staticStyle:{position:"relative",top:"-20px",left:"-20px",height:"60px","font-size":"20px"}},[t("div",{staticStyle:{"line-height":"60px"}},[e._v(e._s(a["netknife"][0].length>20?a["netknife"][0].slice(0,20)+"...":a["netknife"][0]))])]),e._v("   "),t("el-tag",{staticStyle:{position:"relative",top:"-20px",left:"-35px",height:"60px","font-size":"20px"},attrs:{type:"danger"}},[t("div",{staticStyle:{"line-height":"60px"}},[e._v(e._s(a["netknife"][1]))])]),t("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){return e.open_file(a)}}},[e._v("打开文件")]),t("el-button-group",{staticClass:"button_group"},[t("el-button",{class:a["config_class"],staticStyle:{height:"60PX","margin-top":"-20px"},attrs:{disabled:!a["config"].length>0},on:{click:function(t){return e.show_config(a["config"])}}},[e._v("配置")]),t("el-button",{class:a["translation_class"],staticStyle:{height:"60PX","margin-top":"-20px"},attrs:{disabled:!a["translation"].length>0},on:{click:function(t){return e.show_translation(a["translation"])}}},[e._v("转换")]),t("el-button",{class:a["jinja2_class"],staticStyle:{height:"60PX","margin-top":"-20px"},attrs:{disabled:!a["jinja2"].length>0},on:{click:function(t){return e.show_jinja2(a["jinja2"])}}},[e._v("函数")]),t("el-button",{class:a["excute_class"],staticStyle:{height:"60PX","margin-top":"-20px"},attrs:{disabled:!a["excute"].length>0},on:{click:function(t){return e.show_excute(a["excute"])}}},[e._v("执行")])],1)],1)],1)})),0),t("el-dialog",{attrs:{title:"Translation",visible:e.translation_pop_able,width:"1000px"},on:{"update:visible":function(t){e.translation_pop_able=t}}},[t("el-table",{attrs:{data:e.file_data,height:"500",stripe:""}},[t("el-table-column",{attrs:{property:"type",label:"类型",width:"80"}}),t("el-table-column",{attrs:{property:"before",label:"转换前",width:"460"}}),t("el-table-column",{attrs:{property:"after",label:"转换后",width:"460"}})],1)],1),t("el-dialog",{attrs:{title:"Jinja2",visible:e.jinja2_pop_able,width:"1000px"},on:{"update:visible":function(t){e.jinja2_pop_able=t}}},[t("el-table",{attrs:{data:e.file_data,height:"500",stripe:""}},[t("el-table-column",{attrs:{property:"fun_name",label:"函数名",width:"200"}}),t("el-table-column",{attrs:{property:"fun_text",label:"函数体",width:"800"}})],1)],1),t("el-dialog",{attrs:{title:"Excute",visible:e.excute_pop_able,width:"1000px"},on:{"update:visible":function(t){e.excute_pop_able=t}}},[t("el-table",{attrs:{data:e.file_data,height:"500",stripe:""}},[t("el-table-column",{attrs:{property:"cmd",label:"执行命令",width:"333"}}),t("el-table-column",{attrs:{property:"parameter",label:"参数",width:"333"}}),t("el-table-column",{attrs:{property:"condition",label:"执行条件",width:"333"}})],1)],1),t("el-dialog",{attrs:{title:"Config",visible:e.config_pop_able,width:"1000px"},on:{"update:visible":function(t){e.config_pop_able=t}}},[t("el-table",{attrs:{data:e.file_data,height:"500",stripe:""}},[t("el-table-column",{attrs:{property:"parameter_class",label:"参数类型",width:"333"}}),t("el-table-column",{attrs:{property:"parameter_key",label:"参数键",width:"333"}}),t("el-table-column",{attrs:{property:"parameter_value",label:"参数值",width:"333"}})],1)],1)],1)])},It=[],wt={data(){return{activeNames:[],translation_pop_able:!1,jinja2_pop_able:!1,excute_pop_able:!1,config_pop_able:!1,file_data:[],input:""}},name:"FileState",methods:{...(0,M.OI)("filestateAbout",{GET_NETKNIFE_DATA:"GET_NETKNIFE_DATA",CHOOSE_CHANGE:"CHOOSE_CHANGE",ROLLBACK_NETKNIFE_DATA:"ROLLBACK_NETKNIFE_DATA"}),handleChange(e){console.log(e)},show_translation(e){this.file_data=[],this.translation_pop_able=!0,e.forEach((e=>{this.file_data.push({type:e[0],before:e[1],after:e[2]})}))},show_jinja2(e){this.file_data=[],this.jinja2_pop_able=!0;let t={};for(let a=0;a<e.length;a++)t.hasOwnProperty(e[a][0])?t[e[a][0]]+=`;${e[a][1]}`:t[e[a][0]]=e[a][1];Object.entries(t).forEach(((e,t)=>{this.file_data.push({fun_name:e[0],fun_text:e[1]})}))},show_excute(e){this.file_data=[],this.excute_pop_able=!0,e.forEach((e=>{this.file_data.push({cmd:e[0],parameter:e[1],condition:e[2]})}))},open_file(e){this.$bus.$emit("switch_activeIndex","open_file",e)},show_config(e){this.file_data=[],this.config_pop_able=!0,e.forEach((e=>{this.file_data.push({parameter_class:e[0],parameter_key:e[1],parameter_value:e[2]})}))},querySearchAsync(e,t){let a=[];for(let i=0;i<this.netknife_data.length;i++)a.push({value:this.netknife_data[i]["netknife"][0]});let o=a;o=e?o.filter(this.createStateFilter(e)):o,t(o)},createStateFilter(e){return t=>t.value.toLowerCase().match(e.toLowerCase())},handleSelect(e){this.CHOOSE_CHANGE(e.value)}},computed:{netknife_data(){return this.$store.state.filestateAbout.netknife_data}},watch:{input(e,t){""!==t&&""===e&&this.ROLLBACK_NETKNIFE_DATA()}},mounted(){this.GET_NETKNIFE_DATA()}},At=wt,$t=(0,c.Z)(At,yt,It,!1,null,null,null),Nt=$t.exports,jt=function(){var e=this,t=e._self._c;return t("el-empty",{staticStyle:{height:"500px"},attrs:{description:"开始创建第一个Netknife文件"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.forward_filemanage}},[e._v("创建文件")])],1)},kt=[],Pt={name:"FileEmpty",methods:{forward_filemanage(){this.$bus.$emit("switch_activeIndex","four")}}},Mt=Pt,Rt=(0,c.Z)(Mt,jt,kt,!1,null,null,null),Lt=Rt.exports;o["default"].use(L.ZP);const Dt=L.ZP.prototype.push;L.ZP.prototype.push=function(e){return Dt.call(this,e).catch((e=>e))};var Ft=new L.ZP({routes:[{name:"info",path:"/info",component:Z,children:[{name:"empty",path:"empty",component:nt},{name:"state",path:"state",component:te,children:[{name:"projectoprate",path:"projectoprate",component:tt},{name:"mixunit",path:"mixunit",component:Ze}]},{name:"crud",path:"crud",component:ne,children:[{name:"create",path:"create",component:xe},{name:"delete",path:"delete",component:Ne},{name:"update",path:"update",component:Je}]},{name:"filemanage",path:"filemanage",component:xt,meta:{keepAlive:!0}},{name:"pageempty",path:"pageempty",component:Ct},{name:"filestate",path:"filestate",component:Nt},{name:"fileempty",path:"fileempty",component:Lt}]},{name:"cli",path:"/cli",component:J}]}),Xt=a(8223),Ht=a.n(Xt);a(6107),a(8720);o["default"].use(b()),o["default"].config.productionTip=!1,o["default"].use(Ht()),new o["default"]({el:"#app",store:R,router:Ft,render:e=>e(f),beforeCreate(){o["default"].prototype.$bus=this}})}},t={};function a(o){var i=t[o];if(void 0!==i)return i.exports;var s=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,o,i,s){if(!o){var l=1/0;for(c=0;c<e.length;c++){o=e[c][0],i=e[c][1],s=e[c][2];for(var n=!0,r=0;r<o.length;r++)(!1&s||l>=s)&&Object.keys(a.O).every((function(e){return a.O[e](o[r])}))?o.splice(r--,1):(n=!1,s<l&&(l=s));if(n){e.splice(c--,1);var _=i();void 0!==_&&(t=_)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[o,i,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,s,l=o[0],n=o[1],r=o[2],_=0;if(l.some((function(t){return 0!==e[t]}))){for(i in n)a.o(n,i)&&(a.m[i]=n[i]);if(r)var c=r(a)}for(t&&t(o);_<l.length;_++)s=l[_],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},o=self["webpackChunknetknife_view_back"]=self["webpackChunknetknife_view_back"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(1673)}));o=a.O(o)})();
//# sourceMappingURL=app.144ace92.js.map